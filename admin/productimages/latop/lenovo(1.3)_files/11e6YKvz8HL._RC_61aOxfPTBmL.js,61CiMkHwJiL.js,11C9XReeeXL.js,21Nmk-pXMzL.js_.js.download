(function(d){var m=window.AmazonUIPageJS||window.P,f=m._namespace||m.attributeErrors,b=f?f("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(d)(b,window):b.execute(function(){d(b,window)})})(function(d,m,f){d.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,e,n,h){c.isDefined(b)&&(g.type=b);c.isDefined(a)&&(g.index=a);c.isDefined(q)&&(g.thumbnailIndex=q);c.isDefined(e)&&(g.variant=e);c.isDefined(n)&&(g.color=
n);g.shoppableScene=h||null}function k(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function e(a){a=a.data;l=b.copy(g);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function h(a){e(a);a=b.copy(a);a.data=b.copy(g);n.dispatch("updateView",a)}function d(){l=b.copy(g);k(g.color)}var a,n,g={},l={},m,f;return function(c,r){n=r;a=c;n.register("updateSelection",h);n.register("updateModel",e);n.register("resetModel",d);this.init=function(){k()};this.getCurrentItem=
function(){return b.copy(g)};this.getPreviousItem=function(){return b.copy(l)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){f=a};this.getImmersiveViewModalInstance=function(){return f};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(l.type,l.index,l.thumbnailIndex,l.variant,l.color,l.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";d.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,d,k){this.getImageHash=function(e){var h=k.getCurrentItem();e=b.getIndexForVariant(h.color,e||"MAIN",c);return b.getImageHash(h.color,e,c)};this.onImageUpdateForTwister=function(b){d.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";d.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,d,k,e){var h={};return function(f){var a=this;a.dispatch=function(a,c){a=h[a];k.isDefined(a)&&b.each(a,function(a,b){b.call(m,c)})};a.register=function(a,b){k.isDefined(h[a])||(h[a]=[]);"function"===typeof b&&h[a].push(b)};a.model=new c(f,a);a.view=new d(f,a,a.model);a.api=new e(f,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";d.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,f,k){b=b.extend(!0,
{},f,k);var e=new c(b);d.register("ImageBlockAPI",function(){return e.api});return e})});
/* ******** */
(function(B){var t=window.AmazonUIPageJS||window.P,T=t._namespace||t.attributeErrors,U=T?T("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):t;U.guardFatal?U.guardFatal(B)(U,window):U.execute(function(){B(U,window)})})(function(B,t,T){B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(l,b,f,M,m,H,I){function S(g,a,c,e,z){if(!f.isjQueryObjDefined(g.find(".a-button-selected"))){var p=
A.getCurrentItem();if(!e||"chromeless-video"!==p.type||!h.autoplayVideo){e=0;"image"===p.type&&(e=Math.max(f.getIndexForVariant(p.color,p.variant,h),0));var r=0;f.isDefined(h.heroImage[p.color])&&(r=h.heroImage[p.color].length);z=e-(a>=h.maxAlts?h.maxAlts-z-r:0);a=0<=z?a+z:e+r;a>=c&&(e=0,a=r);c=f.getImageHash(p.color,e,h);-1!==c&&(x.dispatch("updateModel",{data:{index:e,thumbnailIndex:a,variant:c.variant,type:"image",shoppableScene:c.shoppableScene}}),c=g.find(".item").get(a),f.selectGivenThumbnail(b(c),
g))}}}function w(b){if(!h.useChildVideos)return f.lazyLoadingRequired(A.getCurrentItem(),A,h)?void 0:h.videos;if(h.colorToVideo[b])return h.colorToVideo[b];var a=h.colorToAsin[b];if(a&&a.asin){var c={};c.params={asin:a.asin,productGroupID:h.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:h.useChromelessVideoPlayer,isUDP:h.isUDP};h.isDPXFeatureEnabled||(c.success=function(a){videosOnTwisterRefresh(a)},M.load(VIDEO_AJAX_ENDPOINT,c));return h.colorToVideo&&h.colorToVideo[b]}}function N(p,
a,c){if((2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment)&&c)return p;var e=w(a),z=f.isDefined(e)&&0<e.length&&h.alwaysIncludeVideo?1:0;a=h.colorImages&&h.colorImages[a];e=p;var r=0;f.isDefined(a)&&(b.each(a,function(a,c){if(r>=h.maxAlts-z&&p<h.maxAlts+h.additionalNumberOfImageAlts){if(2===h.unrolledImageBlockTreatment||3===h.unrolledImageBlockTreatment){var e=b(".thumbItemUnrolled");e[p]?e[p].querySelector("img").src=c.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
a+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(p+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(p+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(p+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:a,thumbnailIndex:p,variant:c.variant,shoppableScene:c.shoppableScene},c.thumb,g,"imageThumbnail");p++}r++}),H.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,H,A),S(g,e,p,c,z));return p}function E(b,a){h.useIV&&f.isDefined(a.hiRes)&&b.css("cursor","pointer")}function D(g,a){if("image"===g.type&&V){var c=b("#image-canvas-caption #canvasCaption"),e=h.staticStrings,p=h.colorImages,r=g.color,u=g.index;if(f.isShoppableScenesEnabled()&&g.shoppableScene)var d=e.clickSceneTagsToShopProducts;else a&&
h.useIV?d=e.clickToExpand:p[r]&&p[r][u].hiRes&&h.useHoverZoom?(d=h.useHoverZoomIpad?e.touchToZoom:h.useClickZoom?e.clickToZoom:e.rollOverToZoom,h.hoverZoomIndicator&&(d="\x3cimg src\x3d'"+h.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+d)):h.useIV&&(d=e.clickToExpand);c.html(d)}}function F(g,a){var c="a-dynamic-image";if(!h.acEnabled){var e;b.each(g.main,function(a,c){f.isDefined(e)||(e=parseFloat(c[1]/c[0])<=parseFloat(h.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=e}var p=f.getMaxDimensionsOfMainImage(g.main,
u,h),r=p[0],d=p[1];p=b("\x3cdiv\x3e\x3c/div\x3e");r={"max-height":r,"max-width":d};p.addClass(c).css(r).attr({"data-old-hires":g.hiRes,"data-a-manual-replacement":"true",onload:a}).data("a-dynamic-image",g.main);return p}function q(b,a,c){var e="desktop-dp-atf-ib-shoppablescenes-tags-"+b;"function"==typeof uet&&uet("bb",e,{wb:1});c.attr("data-a-image-name","shoppable-scene:"+b);c=v.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
c.addClass("celwidget").attr("cel_widget_id",e);c.children("span").css("display","inline-block");x.dispatch("initialize-shoppable-scene",{index:b,shoppableScene:a.shoppableScene,imageSource:a.hiRes||a.large||a.lowRes,$tagPlaceholder:c.find(".mirai-scene-tag-placeholder"),$viewProductsButton:c.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(c,e){c.forEach(function(c){"childList"===c.type&&c.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===c.addedNodes.length&&"IMG"===c.addedNodes[0].tagName&&""!==c.addedNodes[0].src&&(c=c.addedNodes[0],"function"!==typeof c.onload&&(c.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:b,shoppableScene:a.shoppableScene})}),e.disconnect())})})).observe(c.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",e,{wb:1});return c}function y(b,a,c){c=F(b,c);b=f.isShoppableScenesEnabled()&&b.shoppableScene?q(a,b,c):v.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
b.addClass("image item itemNo"+a+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":a+1});b.find(".placeHolder").replaceWith(c);v.find(".list").append(b);l.loadImageManually(c);return b}function K(b){var a=u.css("height");null!==a&&b.find(".imgTagWrapper").css("height",a);b.addClass("selected");h.imgTagWrapperClasses&&b.find(".imgTagWrapper").addClass(h.imgTagWrapperClasses)}function L(g,
a,c,e){if(2!==h.unrolledImageBlockTreatment&&3!==h.unrolledImageBlockTreatment||e||"unavailable"===g.type){if("image"===g.type||"unavailable"===g.type||"lazy-loaded"===g.type){c=f.getImageHash(g.color,g.index,h);if(-1===c)return a={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(g,A,h)||(x.dispatch("updateModel",a),f.showUnavailable(g.color)),-1;e=v.find(".item.itemNo"+g.thumbnailIndex);f.isjQueryObjDefined(e)||(e=y(c,g.thumbnailIndex,a));K(e);x.dispatch("loadMagnifier");
D(g);E(e,c);l.trigger("dp:image-block:update",c)}}else{g=h.colorImages&&h.colorImages[c];a=b(".unrolledImg");c=w(c);var r=f.isDefined(c)&&0<c.length&&h.alwaysIncludeVideo?1:0;a.length>h.maxAlts&&a.each(function(a){a>=h.maxAlts&&b(this).remove()});f.isDefined(g)&&b.each(g,function(a,c){a<h.maxAlts-r+h.additionalNumberOfImageAlts&&a>=h.maxAlts-r&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(a+r+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+
(a+r)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(a+r)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))})}}function k(b){var a=A.getCurrentItem().color;h.colorImages[a]||(h.colorImages[a]=b);b={type:"updatedData",data:A.getCurrentItem()};x.dispatch("updateView",b);(a=h.colorToAsin[a])&&a.asin&&B.register(f.rankedImagesReadyEvent(a.asin))}function d(){var g=v.find(".item .imgTagWrapper"),a=f.getContainerHeight(u,h.holderRatio,h.holderMaxHeight);
0<a&&(u.height(a),g.height(a));v.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&l.loadDynamicImage(this);var e=a.data("a-dynamic-image");e=f.getMaxDimensionsOfMainImage(e,u,h);a.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function r(b){D(A.getCurrentItem(),"mouseenter"===b.type)}var P,h,A,x,g,v,u,O,V=(m=l.state("imageBlockStateData"))?!m.shouldRemoveCaption:!0;return function(p,a,c,e){P=this;h=p;A=a;x=e;l.on("triggerImageAjax",k);h.colorImages[h.landingAsinColor]=
h.colorImages[h.defaultColor];P.render=function(a,c,e,r,d,n,k){v=e;g=r;u=d;O=N(c,a,n);n||(c=A.getCurrentItem(),f.lazyLoadingRequired(c,A,h)&&x.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=A.getCurrentItem();e=!n;f.lazyLoadingRequired(c,A,h)||(b("#imageBlock").css("opacity","1"),v.css("opacity","1"),f.spinner(v,!1),v.find("li").removeClass("selected"),V&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&v.find(".list .item").remove());L(A.getCurrentItem(),k,a,n);return O};
P.update=function(a){};h.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");x.register("imageHover",r);x.register("resize",d)}});"use strict";B.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(l,b,f){var t,m,H,I;return function(b,w,M,E){t=this;m=b;H=E;t.render=function(b,w,q,y,E,L,k){I=y;t=this;q=m.maxAlts;y=w;E=m.colorImages[b]?m.colorImages[b].length:0;E+=f.getVideosCount(b,m);b=m.heroImage[b];L=0;b&&(L=b.length);b=E+L;b>q&&(q=b-q,b=I.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),
q+="+",y={type:"ingress",index:0,thumbnailIndex:w,variant:""},b.find("#altIngressText").append(q),l.declarative.create(b,"thumb-action",y),I.append(b),y=w++);return y};t.update=function(b){"ingress"===b.data.type&&"click"===b.type&&H.dispatch("imageClick",b)}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(l,b,f,t){function m(r,d,h,k){if(!f.isjQueryObjDefined(r.find(".a-button-selected"))){var x=y.getCurrentItem();if(!k||"chromeless-video"!==
x.type||!q.autoplayVideo){k=0;if("hero-image"===x.type){k=I(x.color,x.variant);if(-1===k)return;k=-1!==k?k:0}var g=d+k;g>=h&&(k=0,g=d);d=t.getHeroImageHash(q,x.color,k);-1!==d&&(K.dispatch("updateModel",{data:{index:k,thumbnailIndex:g,variant:d.variant,type:"hero-image"}}),d=r.find(".item").get(g),f.selectGivenThumbnail(b(d),r))}}}function H(r,d,h){if("hero-video"===y.getCurrentItem().type)return r;d=q.heroImage&&q.heroImage[d];var k=r;f.isDefined(d)&&(b.each(d,function(b,g){r<q.maxAlts&&(f.createThumbnail({type:"hero-image",
index:b,thumbnailIndex:r,variant:g.variant},g.thumb,L,"imageThumbnail"),r++)}),m(L,k,r,h));return r}function I(r,d){var h=q.heroImage;if(1>h.length||!f.isDefined(h[r])||!f.isDefined(d))return-1;var k=-1;b.each(h[r],function(b,g){g.variant===d&&(k=b)});return k}function M(){if(k.length&&q.repositionHeroImage){var b=t.getHeroDimParams(q,y.getCurrentItem());if(f.isDefined(b)){var d=f.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px ";k.css({"background-position":d,"background-size":b.width+
"px "+b.height+"px ","max-width":b.width+"px ","min-height":b.height+"px ",filter:"","-ms-filter":""})}}}function w(b,d,h,l){if(k.length&&b&&d){if("function"===typeof h||l){var r=new Image;r.onload=l?function(){k.css("background-image",'url("'+b+'")')}:h;r.src=b}h=d[1];r=d[0];l||k.css({"background-image":'url("'+b+'")'});if(q.repositionHeroImage&&(d=t.getHeroDimParams(q,y.getCurrentItem(),d),f.isDefined(d))){h=d.width;r=d.height;var g=f.isDefined(d.xPos)?d.xPos+"px "+d.yPos+"px ":"center "+d.yPos+
"px "}k.css({"background-position":g,"background-size":h+"px "+r+"px ","max-width":h+"px ","min-height":r+"px ",filter:"","-ms-filter":""})}}function N(f,d,h,k){f=t.getHeroImageHash(q,f,d);if(-1===f)return-1;d=b.map(f.main,function(b,g){return g})[0];w(d,f.main[d],h,k)}function E(b,f,d){if("hero-image"!==b.type)return-1;var h=I(b.color,y.getCurrentItem().variant);h=-1!==h?h:0;if(-1===t.getHeroImageHash(q,b.color,h))return-1;var k=y.getCurrentItem();b.thumbnailIndex=k.thumbnailIndex;b.type=k.type;
b.variant=k.variant;b.index=h;D(b,f,d)}function D(b,f,h){var r=t.getHeroImageHash(q,b.color,b.index);var m=b&&d&&l.equals(b,d)?!0:!1;d||(d=b);if(!m&&b||f)N(b.color,b.index,f,h),d=b;k.removeClass("hide-background");l.trigger("dp:image-block:update",r)}var F,q,y,K,L,k,d={};return function(d,l,h,m){F=this;q=d;y=l;K=m;q.heroImage[q.landingAsinColor]=q.heroImage[q.defaultColor];F.render=function(f,g,d,h,r,l,p){L=h;k=b("#heroImage");f=H(g,f,l);E(y.getCurrentItem(),p,l);return f};F.update=function(b){var g=
b.data;"ingress"!==g.type&&k.addClass("hide-background");"swatchHover"===b.type?b.captured||(g.type=y.getCurrentItem().type,-1!==E(g)&&(b.captured=!0)):"hero-image"===g.type&&(D(g),"click"!==b.type&&q.usePeekHover||f.selectGivenThumbnail(b.$declarativeParent,L))};K.register("resize",M)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(l,b,f,M,m,H){function I(b){L?b.css("cursor","url('"+D.staticImages.zoomIn+
"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in"))}function S(b){var d=b.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);b={};if(f.isDefined(d)){d=d[1].split("_");for(var k=0;k<d.length;k++){var l=d[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(l)&&(b[l[1]]=parseInt(l[2],10))}}return b}function w(k,d){function r(){if(d.useClickZoom){var b=d.offsetInClickZoom;b=[Math.min(1,Math.max(0,c[0]-(z[0]+b))/(z[2]-2*b)),Math.min(1,Math.max(0,c[1]-(z[1]+b))/
(z[3]-2*b))]}else b=a&&a.updatePosition();if(b&&p&&p.detailSize){var e=[p.detailSize[0]-p.rect.width,p.detailSize[1]-p.rect.height];l.capabilities.rtl?p.detailImage.get(0).style.right=-(b[0]*e[0])+"px":p.detailImage.get(0).style.left=-(b[0]*e[0])+"px";p.detailImage.get(0).style.top=-(b[1]*e[1])+"px"}}function q(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function h(a){var e=n?a.originalEvent.touches[0]||a.originalEvent.changedTouches[0]:"";c=n?[e.pageX,e.pageY]:[a.pageX,a.pageY];
if(l.capabilities.rtl){var f=b(t).width();c=n?[f-e.pageX,e.pageY]:[f-a.pageX,a.pageY]}}function w(b){n&&b.preventDefault();h(b);d.useClickZoom?b=[z[0],z[1],z[0]+z[2],z[1]+z[3]]:(b=a?a.offset:k.offsetParent().offset(),b=D.acEnabled?[b.left,b.top,O.width()+b.left,O.height()+b.top]:[e[0]+b.left,e[1]+b.top,e[0]+e[2]+b.left,e[1]+e[3]+b.top]);c[0]<b[0]||c[1]<b[1]||c[0]>=b[2]||c[1]>=b[3]||D.acEnabled&&!q(k)?(d.fadeMagnifier?Q||(Q=!0,aa=setTimeout(function(){x(!0)},500)):d.useClickZoom||x(),W&&(W=!1,clearTimeout(K))):
(W||(W=!0,K=setTimeout(function(){M.postCountMetric("dppc_hoverZoomOpened");m.isEnabled&&H.logHoverZoomRequestServed(m)},1E3)),d.fadeMagnifier&&Q&&(Q=!1,clearTimeout(aa)),r())}function x(c){c&&u.suppressMagnifier(!0);if(G&&(p&&p.hide(),a&&(a.destroy(),a=null),G=!1,n?(k.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),b(document).trigger("disengaged.magnifier")):b(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),v(),c))k.one("click.magnifier touchstart.magnifier",
function(a){g(a,!0)})}function g(c,f){f&&u.suppressMagnifier(!1);if(!G&&!y&&(0===da&&(M.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),da=1),R[F]||(M.postCountMetric("dppc_hoverMain"),R[F]=1),e=[k.position().left,k.position().top,k.width(),k.height()],F&&(h(c),p?p.refit().show():p=new C,d.useClickZoom||(a=a||new Z),z=p.getWindowSize(),r()),G=!0,n?(k.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",w).bind("touchend.magnifier",x),b(document).trigger("engaged.magnifier")):
(D.acEnabled?O.unbind("mousemove.magnifier"):k.unbind("mousemove.magnifier"),b(document).trigger("engaged.magnifier").bind("mousemove.magnifier",w)),f&&(c=b("#zoomWindow"),0<c.length)))c.one("click.magnifier touchend.magnifier",function(a){x(!0)})}function v(){d.useHoverZoom&&(n?k.bind("touchstart.magnifier touchmove.magnifier",g):D.acEnabled?q(k)&&O.bind("mousemove.magnifier",g):k.bind("mousemove.magnifier",g))}var u=this,O=k.offsetParent(),E={detailImageUrl:k.attr("data-old-hires"),location:"over",
locationElement:k,prelaod:"ready",zIndex:50,offsetInClickZoom:50};d=b.extend(E,d);d.adjustment=[10,0,-10,0];var p=null,a=null,c=null,e=null,z=null,J={"null":1,"":1,undefined:1},G=!1,y=!1,F=d.detailImageUrl,n=d.useHoverZoomIpad||0,da=0,R={},Z=function(){function a(a){var b=Math.round(Math.min(k.width(),p.rect.width/a));a=Math.round(Math.min(k.height(),p.rect.height/a));C.css({width:b,height:a});g=[b,a]}var f=this,g=[0,0],n=(p.detailSize&&p.detailSize[0]||5E8)/e[2],h=(p.detailSize&&p.detailSize[1]||
5E8)/e[3];n=h>n?h:n;b("#magnifierLens").remove();var C=b("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});d.generalImageUrls.zoomLensBackground&&C.css({backgroundImage:"url("+d.generalImageUrls.zoomLensBackground+")"});D.showMagnifierOnHover?I(C):C.css("cursor","pointer");f.updatePosition=function(){var a=[e[2]-g[0],e[3]-g[1]],b=0>=a[0]?.5:Math.max(0,Math.min(1,(c[0]-g[0]/2-e[0]-f.offset.left)/a[0])),d=0>=a[1]?.5:Math.max(0,Math.min(1,(c[1]-g[1]/2-e[1]-f.offset.top)/a[1])),n=e[0]+
Math.round(b*a[0]);a=e[1]+Math.round(d*a[1]);C.get(0).style.left=n+"px";C.get(0).style.top=a+"px";return[b,d]};f.destroy=function(){C.remove()};f.offset=k.offsetParent().offset();a(n);f.updatePosition();C.appendTo(k.parent());p.detailImage[0].complete||p.detailImage.load(function(){var b=p.detailImage.width()/e[2];a(b);f.updatePosition()})};Z.preload=function(){u.preload(d.generalImageUrls.lensBackgroundUrl)};var C=function(){function a(){var a={};if("over"===d.location){a=d.useClickZoom;var c={},
e=b("#leftCol"),h=b("#centerCol"),u=b("#rightCol"),z=b("#hover-zoom-end"),l=b("#actionPanelContainer"),ta=f.isjQueryObjDefined(e)?e.outerHeight():h.outerHeight();c.top=f.isjQueryObjDefined(e)?e.offset().top:h.offset().top;c.bottom=ta+c.top;c.right=f.isjQueryObjDefined(u)?u.offset().left:l.offset().left;c.left=a?0:e.offset().left+e.outerWidth();f.isjQueryObjDefined(z)&&z.offset().top>c.bottom&&(c.bottom=z.offset().top);a=c}else"right"===d.location&&(a=k.offset(),a={left:a.left+k.outerWidth(),top:a.top,
right:a.left+k.outerWidth()+400,bottom:a.top+400});d.minHeightElement&&(a.bottom=Math.max(a.bottom,a.top+b(d.minHeightElement).outerHeight()));a.bottom=Math.min(a.bottom,b(t).scrollTop()+b(t).height());a.left+=n[0];a.top+=n[1];a.right+=n[2];a.bottom+=n[3];a.width=a.right-a.left;a.height=a.bottom-a.top;d.enhancedHoverOverlay&&f.isDefined(t.pageXOffset)&&(c=b(t).width(),a.width=c-a.left+t.pageXOffset-18,a.height-=14);C.css({left:a.left,top:a.top,width:a.width,height:a.height});g.rect=a;return g}function c(a){var b=
new Image;g.detailSize=[0,0];b.onload=function(){g.detailSize=[b.width,b.height];r()};b.src=a.attr("src");if(0<b.width&&0<b.height)g.detailSize=[b.width,b.height];else if(d.detailImageSize)g.detailSize=d.detailImageSize;else{a=S(b.src);var c=e[2]/e[3];a.SS||a.AA?(a=a.SS||a.AA,g.detailSize=[a,a]):a.SX?g.detailSize=[a.SX,Math.round(a.SX/c)]:a.SY?g.detailSize=[Math.round(a.SY*c),a.SY]:a.SL&&(g.detailSize=1<=c?[a.SL,Math.round(a.SL/c)]:[Math.round(a.SL*c),a.SL])}}var g=this,n=d.adjustment;b("#zoomWindow").remove();
var h={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:d.zIndex};d.enhancedHoverOverlay&&(h.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",h.border="1px solid #949494",h.borderColor="rgb(148,148,148)");var C=b("\x3cdiv id\x3d'zoomWindow' /\x3e").css(h);d.fadeMagnifier&&C.fadeIn(200);d.useClickZoom&&(L?C.css("cursor",'url("'+d.zoomOutIcon+'"), auto'):(C.css("cursor","-webkit-zoom-out"),C.css("cursor","-moz-zoom-out"),C.css("cursor","zoom-out")));g.updateImage=function(a){a=b("\x3cimg id\x3d'detailImg' src\x3d'"+
a+"'/\x3e").css("position","absolute");g.detailImage&&g.detailImage.remove();C.append(a);b(document).trigger("updated.magnifier");g.detailImage=a;c(g.detailImage)};g.refit=function(){a();c(g.detailImage);return g};d.fadeMagnifier?(g.show=function(){C.fadeIn(200);return g},g.hide=function(){C.fadeOut(200);return g}):(g.show=function(){C.show();return g},g.hide=function(){C.hide();return g});g.destroy=function(){C.remove();return g};g.getWindowSize=function(){return[g.rect.left,g.rect.top,g.rect.width,
g.rect.height]};g.updateImage(F);a();C.appendTo(document.body)},Q=!1,aa,W=!1,K;u.preload=function(a){a=b.makeArray(a);for(var c=a.length,e=0;e<c;e++)a[e]instanceof Array?u.preload(a[e]):"string"===typeof a[e]&&a[e]&&!J[a[e]]&&(J[a[e]]=new Image,J[a[e]].src=a[e])};u.changeImage=function(a,c){G&&x();F=c;k.attr("src",a);u.preload(a);e=[k.position().left,k.position().top,k.width(),k.height()];c&&("immediately"===d.preload?u.preload(c,!0):b(t).ready(function(){u.preload(c)}),p?p.updateImage(c):k.attr("data-old-hires",
c))};u.destroy=function(){D.acEnabled?O.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):k.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");b(document).unbind("mousemove.magnifier");a&&a.destroy();a=null;p&&p.destroy();p=null};u.detailImage=function(){return p.detailImage};u.suppressMagnifier=function(a){y=a};u.isEngaged=function(){return G};u.engageMagnifier=g;u.disengageMagnifier=x;k[0].complete?v():k.one("load",v);u.preload(k.attr("src"));
t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(d.preload){var N=d.detailImageUrl;E=function(){u.preload(N,!0);d.useClickZoom||Z.preload()};var B=d.preload;B.constructor!==Array&&(B=[B]);for(var Y=0;Y<B.length;Y++)if("immediately"===B[Y])E();else if(b(t)[B[Y]])b(t)[B[Y]](E);else b(t).bind(B[Y],E)}return u}function N(){if(D.useHoverZoom){var k={adjustment:[0,0,1,1],generalImageUrls:D.staticImages,location:"over",minHeightElement:"#imageBlock",
preload:"ready",zIndex:199,useHoverZoomIpad:D.useHoverZoomIpad,useHoverZoom:D.useHoverZoom,useClickZoom:D.useClickZoom,fadeMagnifier:D.fadeMagnifier,zoomOutIcon:D.staticImages.zoomOutCur,enhancedHoverOverlay:D.enhancedHoverOverlay||D.atfEnhancedHoverOverlay};y&&(y.destroy(),y=T);var d=K.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(d)?D.useClickZoom?(d.one("click.loadmagnifier touchstart.loadmagnifier",function(b){y=
new w(d,k);y.engageMagnifier(b,!0)}),L?d.css("cursor",'url("'+D.staticImages.zoomInCur+'"), auto'):(d.css("cursor","-webkit-zoom-in"),d.css("cursor","-moz-zoom-in"),d.css("cursor","zoom-in"))):y=new w(d,k):m.isEnabled&&H.logHoverZoomApplicability(b,m)}}var E,D,F,q,y,K,L=navigator.userAgent.match(/msie|trident/i);return function(b,f,l,L){E=this;D=b;F=f;m.refToModel=F;q=L;E.render=function(b,f,d,g,k,u){K=d;y&&(y.destroy(),y=T)};E.update=function(b){};q.register("loadMagnifier",N);q.register("resize",
N)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(l,b,f,M){function m(b,l,m){b=(b=m?m:f.getColorFromState(l.getState().hovered_variations,B))&&""!==b?b:B.defaultColor;N.dispatch("updateView",{type:"swatchHover",data:{color:b}});M.postCountMetric("swatchHover")}function H(b,l,m,q){b=(b=q?q:f.getColorFromState(l.getState().selected_variations,B))&&""!==b?b:B.defaultColor;b===w.getCurrentItem().color?"function"===typeof m&&m():(N.dispatch("updateSelection",
{type:"swatchClick",data:{color:b},onload:function(){var b={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",b);m()}}),M.postCountMetric("swatchClick"))}var I,B,w,N;return function(b,f,t,q){I=this;B=b;w=f;N=q;l.on("image-block-twister-swatch-hover",m);l.on("image-block-twister-swatch-click",H);I.render=function(b,f,l,k,d){};I.update=function(b){}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric",
"logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(l,b,f,M,m,H,I){function S(a,c,e,d){if(!f.isjQueryObjDefined(a.find(".a-button-selected"))){var n=v.getCurrentItem();if(!d||"chromeless-video"!==n.type||!g.autoplayVideo)if(d=0,"image"===n.type&&(d=Math.max(D(n.color,n.variant),0)),!(n.thumbnailIndex>=g.maxAlts&&0!=d)){var h=c+d;h>=e&&(d=0,h=c);c=f.getImageHash(n.color,d,g);-1!==c&&(u.dispatch("updateModel",{data:{index:d,thumbnailIndex:h,variant:c.variant,type:"image",
shoppableScene:c.shoppableScene}}),c=a.find(".item").get(h),f.selectGivenThumbnail(b(c),a))}}}function w(a,c,e){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&e)return a;var d=g.colorImages&&g.colorImages[c];c=a;2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||b(".thumbItemUnrolled").each(function(a){(!b(this)[0].classList.contains("thumbTypeimage")||a>=d.length||a>=g.maxAlts)&&b(this).remove()});f.isDefined(d)&&(b.each(d,function(c,e){if(a<g.maxAlts)if(2===
g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){a++;var h=b(".thumbItemUnrolled");h[c]?h[c].querySelector("img").src=e.thumb:b('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+c+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+a+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+a+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+
a+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".regularAltImageViewLayout"))}else c={type:"image",index:c,thumbnailIndex:a,variant:e.variant,shoppableScene:e.shoppableScene},e=f.createThumbnail(c,e.thumb,p,"imageThumbnail"),g.desktopCollapsibleThumbnails&&f.updateImageThumbnailOverlay(e,c,d),a++}),H.isEnabled&&I.logAltImgRequestPlacedOnThumbnails(b,H,v),S(p,c,a,e));return a}function N(a,b){g.useIV&&f.isDefined(b.hiRes)&&
a.css("cursor","pointer")}function E(a,c){if("image"===a.type&&T){var e=b("#image-canvas-caption #canvasCaption"),d=g.staticStrings,h=g.colorImages,n=a.color,k=a.index;if(f.isShoppableScenesEnabled()&&a.shoppableScene)var l=d.clickSceneTagsToShopProducts;else c&&g.useIV?l=d.clickToExpand:h[n]&&h[n][k].hiRes&&g.useHoverZoom?(l=g.useHoverZoomIpad?d.touchToZoom:g.useClickZoom?d.clickToZoom:d.rollOverToZoom,g.hoverZoomIndicator&&(l="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+l)):
g.useIV&&(l=d.clickToExpand);e.html(l)}}function D(a,b){return f.getIndexForVariant(a,b,g)}function F(a,b,c){var f=b.thumbnailIndex,d=g.colorToAsin[b.color]&&g.colorToAsin[b.color].asin;b="altImageHover"===c&&e&&e.altImageIdx===f&&e.asin===d&&"swatchClick"===e.event?!0:"swatchHover"===c?e&&e.asin===d&&e.event===c:e&&e.altImageIdx===f&&e.asin===d&&e.event===c;if(!b){var h="#",n=a.find(".imgTagWrapper img").get(0);n&&(h=n.src);a=new Image;a.onload=function(){if(n){n.src=h;var a=n.width,b=n.height,e=
n.naturalWidth,g=n.naturalHeight;try{var k=(Math.abs(a/e*g-b)/b).toFixed(2);.01<k&&(t.ue&&((("landing"!==c||G||ca)&&"swatchClick"!==c||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||ca?"altImageHover"!==c||G||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),G=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),ca=!0)),t.ueLogError&&(a={logLevel:"WARN",
attribution:"imageBlock-PC-hi_res_image_distortion"},t.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" Event:"+c+" Diff:"+k.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+d+" at altImageIdx "+f+" Event:"+c+" Diff:"+k.toString()+"]"},a)))}catch(ja){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(ja,a))}}};"#"!==h&&(a.src=h);e.altImageIdx=f;e.asin=d;e.event=c}}function q(a,
e){var d="a-dynamic-image";if(!g.acEnabled){var h;b.each(a.main,function(a,c){f.isDefined(h)||(h=parseFloat(c[1]/c[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=h}var n=f.getMaxDimensionsOfMainImage(a.main,c,g),k=n[0],l=n[1];n=b("\x3cdiv\x3e\x3c/div\x3e");k={"max-height":k,"max-width":l};n.addClass(d).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:e}).data("a-dynamic-image",a.main);return n}function y(c,b,e){var f="desktop-dp-atf-ib-shoppablescenes-tags-"+
c;"function"==typeof uet&&uet("bb",f,{wb:1});e.attr("data-a-image-name","shoppable-scene:"+c);e=a.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");e.find(".mirai-scene-image-block-tag-container").attr({"data-csa-c-content-id":f,"data-csa-c-type":"widget","data-csa-c-asin":g.mediaAsin,"data-csa-c-physical-id":b.shoppableScene.physicalId,"data-product-line":b.shoppableScene.productLine});e.children("span").css("display",
"inline-block");u.dispatch("initialize-shoppable-scene",{index:c,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:e.find(".mirai-scene-tag-placeholder"),$viewProductsButton:e.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(a,e){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&
(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){l.trigger("shoppable-scene-image-loaded",{index:c,shoppableScene:b.shoppableScene})}),e.disconnect())})})).observe(e.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",f,{wb:1});return e}function K(c,b,e){e=q(c,e);c=f.isShoppableScenesEnabled()&&c.shoppableScene?y(b,c,e):a.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");c.addClass("image item itemNo"+
b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});c.find(".placeHolder").replaceWith(e);a.find(".list").append(c);l.loadImageManually(e);l.trigger("dp:image-block:imageBlockImageLoad",b);return c}function L(a){var b=c.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}
function k(a){if(a.isUserGenerated){var c=v.getPreviousItem(),b=a.variant;f.isDefined(b)&&c.thumbnailIndex!==a.thumbnailIndex&&(H.isEnabled&&I.logAltImgRequestServed(H),m.postCountMetric("ImageThumbnailSelectedVariant:"+b),0===b.indexOf("IG")&&(m.postCountMetric("IGImageSelectedVariant:"+b),m.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function d(c,e,d,h){if(2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment||h||"unavailable"===c.type){if("image"===c.type||"unavailable"===
c.type||"lazy-loaded"===c.type){(n=f.isDefined(e))&&m.postCountMetric("mainImageUpdateOnTwisterVariationClick");d=f.getImageHash(c.color,c.index,g);if(-1===d)return e={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(c,v,g)||(u.dispatch("updateModel",e),f.showUnavailable(c.color)),-1;h=a.find(".item.itemNo"+c.thumbnailIndex);f.isjQueryObjDefined(h)||(h=K(d,c.thumbnailIndex,e),n?(ca=G=!1,F(h,c,"swatchClick")):F(h,c,"altImageHover"));L(h);u.dispatch("loadMagnifier");
E(c);N(h,d);k(c);l.trigger("dp:image-block:update",d)}}else if(c=g.colorImages&&g.colorImages[d],b(".unrolledImg").each(function(a){b(this).remove()}),f.isDefined(c)){b.each(c,function(a,c){if(a<g.maxAlts){var e=b(".unrolledImg");e[a]?b(".unrolledImg #unrolledImgNo"+a+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):a>=e.length&&b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(a+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+a+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+a+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.large+'" data-a-hires\x3d"'+c.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"))}});l.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img"));var n=f.isDefined(e);n&&(m.postCountMetric("mainImageUpdateOnTwisterVariationClick"),e())}}function r(c){var b=Math.max(D(c.color,v.getCurrentItem().variant),0);b=f.getImageHash(c.color,b,g);if(-1===b)return f.lazyLoadingRequired(c,
v,g)||f.showUnavailable(c.color),-1;var e=a.find(".swatchHoverExp"),d=q(b);e.find(".imgTagWrapper").html(d);l.loadImageManually(d);m.postCountMetric("mainImageUpdateOnTwisterVariationHover");L(e);F(e,c,"swatchHover");l.trigger("dp:image-block:update",b)}function P(c,e){f.lazyLoadingRequired(c,v,g)||(b("#imageBlock").css("opacity","1"),a.css("opacity","1"),f.spinner(a,!1),a.find("li").removeClass("selected"),T&&b("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),e&&a.find(".list .item").remove())}
function h(){var e=a.find(".item .imgTagWrapper"),d=f.getContainerHeight(c,g.holderRatio,g.holderMaxHeight);0<d&&(c.height(d),e.height(d));a.find("img.a-dynamic-image").each(function(){var a=b(this);a.data("a-manual-replacement")&&l.loadDynamicImage(this);var e=a.data("a-dynamic-image");e=f.getMaxDimensionsOfMainImage(e,c,g);a.css({"max-height":e[0]+"px","max-width":e[1]+"px"})})}function A(a){E(v.getCurrentItem(),"mouseenter"===a.type)}var x,g,v,u,O,V,p,a,c,e={},z,J=null,G=!1,ca=!1,T=(M=l.state("imageBlockStateData"))?
!M.shouldRemoveCaption:!0;l.on("triggerImageAjax",function(a){var c=v.getCurrentItem().color;g.colorImages[c]||(g.colorImages[c]=a);a={type:"updatedData",data:v.getCurrentItem()};u.dispatch("updateView",a);(c=g.colorToAsin[c])&&c.asin&&B.register(f.rankedImagesReadyEvent(c.asin))});return function(e,k,l,q){x=this;g=e;v=k;u=q;g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];x.render=function(e,h,k,l,m,n,r,q){a=2!==g.unrolledImageBlockTreatment&&3!==g.unrolledImageBlockTreatment?k:b(".unrolledScrollBox");
p=l;c=m;z=w(h,e,n);n?0===h&&F(a.find(".item.itemNo0"),v.getCurrentItem(),"landing"):(h=v.getCurrentItem(),f.lazyLoadingRequired(h,v,g)&&u.dispatch("updateModel",{data:{type:"lazy-loaded"}}));P(v.getCurrentItem(),!n);2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment?"swatchClick"===q&&g&&g.colorImages?(J=g.colorImages[e],d(v.getCurrentItem(),r,e,n)):"updatedData"===q&&g&&g.colorImages&&g.colorImages[e]!==J&&(J=g.colorImages[e],d(v.getCurrentItem(),r,e,n)):d(v.getCurrentItem(),r,
e,n);return z};f.isImageBlockGridViewHoverDelayEnabled()?x.update=function(a){var c=a.data;v.setCurrentEvent(a);"ingress"!==c.type&&"swatchHover"!==a.type&&(v.setToPreviousItem(),"mouseenter"===a.type?(V&&clearTimeout(V),V=setTimeout(function(){v.setToCurrentItem(c);P(a.data,!1)},f.getHoveringDelayTimer())):"mouseleave"===a.type?V&&clearTimeout(V):"click"===a.type&&(v.setToCurrentItem(c),P(a.data,!1)));"swatchHover"===a.type?("ingress"!==c.type&&P(a.data,!1),c.color===v.getCurrentItem().color?d(v.getCurrentItem(),
null,c.color,!0):a.captured||-1===r(c)||(a.captured=!0)):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type?(m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+z),O&&clearTimeout(O),O=setTimeout(function(){d(c,null,c.color,!0);g.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,p)},f.getHoveringDelayTimer())):"mouseleave"===a.type?O&&clearTimeout(O):"click"===a.type&&(d(c,null,c.color,!0),f.selectGivenThumbnail(a.$declarativeParent,p),m.postCountMetric("dpcc_imageThumbClicked_total"),
m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+z)))}:x.update=function(a){var c=a.data;v.setCurrentEvent(a);"ingress"!==c.type&&P(a.data,!1);"swatchHover"===a.type?c.color===v.getCurrentItem().color?d(v.getCurrentItem(),null,c.color,!0):a.captured||-1===r(c)||(a.captured=!0):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&m.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+z),d(c,null,c.color,!0),g.usePeekHover&&"click"!==
a.type||(f.selectGivenThumbnail(a.$declarativeParent,p),"click"===a.type&&(m.postCountMetric("dpcc_imageThumbClicked_total"),m.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+z))))};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");u.register("imageHover",A);u.register("resize",h)}});"use strict";B.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(l,b,f,t){function m(f,k){f=b("\x3cimg src\x3d'"+(k?q.staticImages.shoppableSceneDotHighlighted:
q.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");f.css({display:k?"none":"inline-block"});f.addClass("mirai-scene-tag").addClass(k?"active-tag":"inactive-tag");return f}function H(f){var k=b("\x3cspan\x3e");l.each(f.tags,function(f){var d=b("\x3cdiv\x3e").css({position:"absolute",left:100*f.left+"%",top:100*f.top+"%",height:"auto",width:"auto"});d.append(m(f,!1));d.append(m(f,!0));d.bind("mouseenter",function(){I(b(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});l.declarative.create(d,
"scenes-show-details-tags-ib",{tagId:f.link});k.append(d)});return k.children()}function I(b){b.addClass("mirai-scene-dot-pulsate");l.delay(function(){b.removeClass("mirai-scene-dot-pulsate")},4E3)}function M(b,f){b.css({display:"none"});f.css({display:"inline-block"})}function w(b,f,d){b.eq(d).css({display:"inline-block"});f.eq(d).css({display:"none"})}function N(b){B.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){l.trigger("mirai:scene-details-change",
{physicalId:b})})}function E(){var f=b("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=b("\x3cimg class\x3d'item-tag'\x3e").attr("src",q.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),d=b("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");d.html(q.staticStrings.shoppableSceneViewProductsButton);return f.append(k).append(d)[0].outerHTML}function D(b){function f(){b.$tagPlaceholder.replaceWith(m);var f=m.find(".mirai-scene-tag.active-tag"),d=
m.find(".mirai-scene-tag.inactive-tag");w(f,d,0);I(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));K=!0;b.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+b.index,{wb:1});x=!0;t.postCountMetric("miraiShoppableScenes_imageLoadedCount")}if(b.shoppableScene){var d=b.$viewProductsButton.find(".a-button-text");if(0===d.children().length){d.append(E());l.declarative.create(b.$viewProductsButton,"scenes-show-details-view-products-ib",
{tagId:b.shoppableScene.tags[0].link});var m=H(b.shoppableScene),y=m.find(".mirai-scene-tag.active-tag"),h=m.find(".mirai-scene-tag.inactive-tag"),A=b.shoppableScene.physicalId,x=!1;l.on("mirai:index:change",function(b){b.scenePhysicalId===A&&(b=b.selectedIndices[0],M(y,h),w(y,h,b),I(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(b)),K=!0)});l.on("mirai:scene-details-change",function(b){b.physicalId!==A||K||(M(y,h),w(y,h,0),I(m.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),
K=!0)});l.on("mirai:no-products-active",function(b){b.scenePhysicalId===A&&M(y,h)});l.on("mirai:set-first-product-active",function(b){b.scenePhysicalId===A&&(M(y,h),w(y,h,0))});l.on("a:image:load:shoppable-scene:"+b.index,function(){x||(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});l.on("shoppable-scene-image-loaded",function(d){d.index!=b.index||x||(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});B.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",
function(){l.trigger("mirai:scene-side-sheet-init",{icons:q.staticImages,strings:q.staticStrings});l.trigger("mirai:scene-details-init",{scene:b.shoppableScene,imageSource:b.imageSource})})}}}var F,q,y,K=!1;return function(b,k,d,l){F=this;q=b;y=l;f.isShoppableScenesEnabled()?(y.register("initialize-shoppable-scene",D),F.render=function(b,f,d,k,g,l,m){},F.update=function(b){"mouseenter"===b.type&&(b.data.shoppableScene?N(b.data.shoppableScene.physicalId):K=!1)}):(b=function(){},F.render=b,F.update=
b)}});B.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";var U="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"===typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};B.when("A","jQuery","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(l,b,f,B,m,
H,I,S){function w(a){return null!==a&&"undefined"!==typeof a}function M(a){var c=0;b.each(a,function(a,b){a=parseInt(b[1],10);a>c&&(c=a)});return c}function E(a){var c=0;b.each(a,function(a,b){a=parseInt(b[0],10);a>c&&(c=a)});return c}function D(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=M(a);0<a&&(c=Math.min(c,a));return c}function F(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=E(a);0<a&&(c=Math.min(c,a));return c}function q(a){var c;b.each(a,function(a,b){w(c)||(c=b[1]/
b[0])});return c||1}function y(a){if(a){if(0<a.indexOf(".m3u8"))return"application/x-mpegURL";if(0<a.indexOf(".mp4"))return"video/mp4"}return""}function K(a,c){c=c.find("img");w(c[a])&&b(c[a]).click()}function L(a,c){g[a]=c?c:g[a];return g[a]}function k(a,c,e){e=e||x;e=e.colorImages;if(1>e.length||!w(e[a])||!w(c))return-1;var f=-1;b.each(e[a],function(a,b){b.variant===c&&(f=a)});return f}function d(a,c,e){e=e||x;e=e.colorImages;return!(w(e)&&w(e[a])&&w(e[a][c])&&w(e[a][c].main))||1>b.map(e[a][c].main,
function(a,c){return c}).length?-1:e[a][c]}function r(a,c,b,f){f.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,f.css("width",""),f.css("height",""),a>c?f.css("width",c/a*100+"%"):f.css("height",a/c*100+"%"))}function P(a,c){var e;if(e=a.useIV)e=a.colorImages&&a.colorImages[c]&&0<a.colorImages[c].length?!0:!1;a=e;H.isEnabled&&(H.IVApplicaple=a,I.logImmersiveViewApplicability(b,H));return a}function h(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length||
0<b(".gridImageBlockViewLayoutIn1x7").length}var A,x=b.extend(!0,{},B,m),g={},v=0,u=0,O=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,V={},p={};return{isDefined:w,isDefinedAndEmpty:function(a){return w(a)&&"object"===("undefined"===typeof a?"undefined":U(a))&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":U(a))&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return w(a)?"object"===("undefined"===typeof a?"undefined":U(a))&&
0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:q,getMaxHeightOfMainImage:F,getMaxWidthOfMainImage:D,getMaxDimensionsOfMainImage:function(a,c,b){if(b.acEnabled)return[c.height(),c.width()];var e=F(a,c,b);c=D(a,c,b);a=q(a);b=c/a;c=Math.min(c,e*a);e=Math.min(e,b);return[e,c]},getContainerHeight:function(a,b,e){var c=a.get(0);a=0;if(w(c)){a=Math.min(c.offsetWidth/b,e);var f;b=x.mainImageHeightPartitions;e=x.mainImageMaxSizes;if(w(e)&&w(b)){var d=0,g=t.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight;for(c=0;c<b.length;c++)g>b[c]&&(d=c+1);e.length>=d&&(f=e[d])}w(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(a,c){if(a){c=c||x;var e="";b.each(c.visualDimensions,function(b,c){a[c]&&(e+=" "+a[c])});return e&&e.substring(1)}},createThumbnail:function(a,b,e,f){var c=e.find(".template").clone().removeClass("template").addClass("item"),d=document.createElement("img");d.src=b;c.find(".placeHolder").replaceWith(d);(b=a.heroVideoVariant)&&
"hero-image"===a.type&&a.variant===b&&c.addClass("heroImageThumbnail");w(f)&&c.addClass(f);h()&&c&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",d.parentNode.insertBefore(f,d));l.declarative.create(c,"thumb-action",a);c.attr&&(c.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(c.attr("data-csa-c-type","uxElement"),c.attr("data-csa-c-element-type","navigational"),c.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(c.attr("data-csa-c-type",
"uxElement"),c.attr("data-csa-c-element-type","navigational"),c.attr("data-csa-c-action","image-block-alt-image-hover")),c.attr("data-csa-c-posy",a.thumbnailIndex+1));e.append(c);return c},updateImageThumbnailOverlay:function(a,c,b){a.find(".textMoreImages").append(b.length-c.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){a=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");a.addClass("a-button-selected").addClass("a-button-focus")},loadMediaIntoAiry:function(a,
b,e,f){a&&a.getMediaSourceInfo()!==b.url&&(f?a.loadMedia?(A={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(A)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):
a.setInitialData({videoUrl:b.url,mimeType:y(b.url),contentId:b.mediaObjectId,rankingStrategy:b.rankingStrategy,imageUrl:b.slateUrl,aciContentId:b.aciContentId}))},showUnavailable:function(a){a&&(b("#imageBlock .unvailableVariation").html(a),b("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){b("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:function(a,b,e){b.fadeTo(500,0,function(){K(a,e);b.fadeTo(500,1)})},toggleVideoCaption:function(a){a&&a.toggle()},selectThumbnail:K,
spinner:function(a,c){var e=b("#imageBlock .a-spinner").parent();0===e.length&&(e=b("\x3cdiv\x3e\x3c/div\x3e").append(b("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),a.append(e),e.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));
c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:L,getIndexForVariant:k,getImageHash:d,lazyLoadingRequired:function(a,b,e){b=Math.max(k(a.color,b.getCurrentItem().variant,e),0);b=-1!==d(a.color,b,e);a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;a=!a||"success"!==L(a);return!e.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:r,repositionVideoBanner:function(a,
b,e,f){setTimeout(function(){var c=a.width()/a.height();r(c,16,9,b)},f||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,e){if(e.useChildVideos){if(!w(e.colorToVideo))return-1;a=e.colorToVideo[a]}else a=e.videos;return w(a)&&w(a[b])&&w(a[b].url)?a[b]:-1},isImmersiveViewEnabled:P,playVideoInImmersiveView:function(a,b){return P(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},
getMediaSourceInfo:function(){return w(A)?A.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,e){return{requester:"DetailPageTablet",marketplaceID:e.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:e.languageCode,page:"DetailPageTablet",placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:e.url,imageURL:e.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return S.isEnabled&&0<b(".mirai-scene-image-block-template").length},
isImageBlockGridViewDisplayEnabled:h,isImageBlockGridViewHoverDelayEnabled:function(){return 0<b(".gridImageBlockViewLayoutIn2x4").length||0<b(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return v},updateThumbnailHoverDelay:function(a){if(w(a)){v=0;var b=a.closest("li");b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var e=u;a=a.closest("ul").attr("class");a===T?e=!1:(a=O.exec(a),null===a||3!==a.length?e=!1:(a=a[2],e=Math.floor(e/
a)>Math.floor(b/a)));e&&(v=100);u=b}}},setDimensionIngressData:function(a,b,e){V[a]=b;p[a]=e},isDimensionIngressEnabled:function(a){return!!V[a]},getDimensionVariantList:function(a){return p[a]},logError:function(a,b,e,f){t.ueLogError&&t.ueLogError(f,{logLevel:a,attribution:b,message:e})}}});"use strict";B.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(l,b,f,M,m,H){function I(d,g,h,k){!a.autoplayVideo||ma||a.useChromelessVideoPlayer?
!f.isjQueryObjDefined(d.find(".a-button-selected"))&&(h=c.getCurrentItem(),!k||a.prioritizeVideos||"chromeless-video"===h.type&&a.autoplayVideo)&&(k=f.getVideoHash(h.color,0,a),-1===k||h.thumbnailIndex>=a.maxAlts-1||(g+=0,e.dispatch("updateModel",{data:{index:0,thumbnailIndex:g,variant:k.variant,type:a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),g=d.find(".item").get(g),f.selectGivenThumbnail(b(g),d))):(f.selectGivenThumbnail(d.find("img:last"),d),f.fadeToThumbnail(d.find("img").length-
1,ca,d))}function S(b){var d=c.getCurrentItem().color;if(a.useChildVideos&&!a.colorToVideo[d]){var g=function(){if(b){a.colorToVideo[d]=b;var f={type:"updatedData",data:c.getCurrentItem()};e.dispatch("updateView",f)}};a.lazyLoadExperienceDisabled?g():B.when(f.rankedImagesReadyEvent(a.colorToAsin[d].asin)).execute(function(){g()})}}function w(b){b&&(a.notShowVideoCount=b,b={type:"updatedData",data:c.getCurrentItem()},e.dispatch("updateView",b))}function N(b){if(!a.useChildVideos)return f.lazyLoadingRequired(c.getCurrentItem(),
c,a)?void 0:a.videos;if(a.colorToVideo[b])return a.colorToVideo[b];var e=a.colorToAsin[b];if(e&&e.asin){var d={};d.params={asin:e.asin,productGroupID:a.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:a.useChromelessVideoPlayer,isUDP:a.isUDP};a.isDPXFeatureEnabled||(d.success=function(a){S(a)},M.load("/gp/product/features/apparel-main-image/videos.html",d));return a.colorToVideo&&a.colorToVideo[b]}}function E(b){n&&null===b&&2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment&&
(n.hide(),J.parent().css("z-index",-1),G&&G.hide())}function D(b,c,e){c=ca.width()/ca.height();var d=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,10);f.updateAspectRatio(c,d,g,J);if(n&&"unrolled-video-add"!==e)n.show(),f.loadMediaIntoAiry(n,b,da,a.tabletWeb);else if(a.tabletWeb)n=C;else{if("unrolled-video-add"===e){n=C;return}if(null===C||C===T)X=setInterval(function(){n=C;n!==T&&null!==n&&(n.show(),f.loadMediaIntoAiry(n,b,da,a.tabletWeb),F(),k(n),clearInterval(X),X=null)},500);else if(n=C,
n!==T&&null!==n){n.show();f.loadMediaIntoAiry(n,b,da,a.tabletWeb);F();k(n);return}}F();k(n)}function F(){if(2!==a.unrolledImageBlockTreatment&&3!==a.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(a)){if(1<f.getVideosCount(c.getCurrentItem().color,a)&&G){if(f.isDefined(U)){G.show();return}U=b('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(a.staticStrings.watchMoreVideos);G.find("#videoCaption").append(U);l.declarative.create(U,"videoIngressClick",R)}f.playVideoInImmersiveView(a,
c.getCurrentItem().color)&&(l.declarative.create(J,"videoIngressClick",R),J.attr&&J.attr("data-ux-click",""),J.children().css("z-index","-1"),J.css("display","inline-block"))}else G&&(G.find("#videoCaption").text(a.staticStrings.playVideo),G.show())}function q(b,c){if("chromeful-video"===b.type||"chromeless-video"===b.type||"unrolled-video-add"===c){var e=f.getVideoHash(b.color,b.index,a);if(-1===e)return-1;"chromeful-video"===b.type&&D(e,b.thumbnailIndex+1,c)}}function y(c,e,d){if((2===a.unrolledImageBlockTreatment||
3===a.unrolledImageBlockTreatment)&&d)return c;var g=N(e);e=c;var h=b(".unrolledImg"),k=f.isDefined(g)&&0<g.length&&a.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!a.alwaysIncludeVideo&&c===a.maxAlts&&m.postCountMetric("IBVideoDrop");h.length>a.maxAlts&&h.each(function(c){c>=a.maxAlts&&b(this).remove()});k&&c===a.maxAlts&&(2===a.unrolledImageBlockTreatment||3==a.unrolledImageBlockTreatment?(b(".thumbItemUnrolled").last().remove(),b(".unrolledImg").last().remove()):z.find(".item:last").remove(),
c--);f.isDefined(g)&&(b.each(g,function(e,d){if(c<a.maxAlts){if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";b('\x3cli class\x3d"thumbItemUnrolled thumbType'+h+" thumbIndex"+e+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+
c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+d.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(b("ul.regularAltImageViewLayout"));b('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+e+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(b(".unrolledScrollBox .list-unrolled"));a.dp60InLastPositionUnrolledImageBlock||2!==a.dp60VideoPosition||K(b(".regularAltImageViewLayout"),a.dp60VideoPosition)}else{h=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";var k={type:h,index:e,thumbnailIndex:c,variant:d.variant};R={type:"video-ingress",index:e,thumbnailIndex:c,variant:d.variant};f.useTabbedImmersiveView(a)&&("chromeful-video"===
h&&(ka+=" videoBlockIngress  videoBlockDarkIngress",d.thumb=d.thumb.replace("_PKmb-play-button-overlay-thumb","")),a.altsOnLeft||(ka+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ka+=" videoImageBlockGridView");f.createThumbnail(k,d.thumb,z,ka);2===a.dp60VideoPosition&&K(z,a.dp60VideoPosition);f.useTabbedImmersiveView(a)&&(L(z.find(".videoBlockIngress img"),a.videoIngressATFSlateThumbURL),e=1<g.length?"multiple-videos":"one-video",(k=!0===a.notShowVideoCount?a.staticStrings.multipleVideos:
1<g.length?g.length+" "+a.staticStrings.multipleVideos:a.staticStrings.singleVideo)&&z.find(".videoBlockIngress").append(z.find("#videoCount_template").clone().text(k).attr("id","videoCount")).addClass(e));d=m.buildNexusMetric("ib.thumbnailRender",c+1,d.mediaObjectId,d.rankingStrategy,d.groupType,aa,Q,W,ba);m.emitNexusMetric(d);ja||(ja=!0,m.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(a))return!1}),I(z,e,c,
d),x(v),a.imageBlockRenderingStartTime&&m.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",l.now()-a.imageBlockRenderingStartTime));return c}function K(c,e){if(0!==e)if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){var f=a.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",d=c.children(".thumbTypeimage");c=c.children(".thumbType"+f);d&&c&&d[e-1]&&b(d[e-1]).before(c[0]);c=b(".unrolledScrollBox .list-unrolled");d=c.children(".unrolledImg.imgMedia");c=
c.children(".unrolledImg.videoMedia");d&&c&&d[e-1]&&b(d[e-1]).before(c[0]);b(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(a){for(var c=null,e=0;e<this.classList.length;e++)this.classList[e].includes("itemNo")&&(c=e);null!==c&&b(this).removeClass(this.classList[c]).addClass("itemNo"+a);this.querySelectorAll("div")[1].id="unrolledImgNo"+a})}else d=c.children(".imageThumbnail"),c=c.children(".videoBlockIngress"),d&&c&&d[e-1]&&b(d[e-1]).before(c[0])}function L(a,b){var c=
a.attr("src");c&&b&&(a.attr("src",b),b=new Image,b.onload=function(b){a.attr("src",c)},b.src=c)}function k(b){a.autoplayVideo&&b&&!ma&&(G&&f.toggleVideoCaption(G),b.setVolume(0),b.show(),b.play(),ma=!0)}function d(c){n&&n.pause();c.data=R;c.clickTimeStamp=c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";e.dispatch("imageClick",c);m.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=m.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+
1,a.videos[0].mediaObjectId,a.videos[0].rankingStrategy,a.videos[0].groupType,aa,Q,W,ba);m.emitNexusMetric(c);m.postCountMetric(d);b("#main-video-container .vjs-control-bar").css("display","none");b("#main-video-container .vjs-poster").css("display","inline-block")}function r(a){null!==n&&n!==T&&(n.frame&&n.frame.remove(),n=null,C.frame&&C.frame.remove(),C=null);C=a.player;b("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");C.hide=function(){C.pause();l.$("#main-video-container").find(".vse-player-container").hide()};
C.show=function(){l.$("#main-video-container").find(".vse-player-container").show()};C.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function P(e,g,h,k,m,u){E(u);J=null!==u?b("#unrolledImgNo"+u.thumbnailIndex):k.find("#main-video-container");sa&&(G=null!==u?"":J.parent().find("#video-canvas-caption"));ca=null!==u?b(".unrolledScrollBox"):b("#main-image-container");null===u&&f.isImageBlockGridViewDisplayEnabled()&&(J.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));
aa=t.location.href;e=c.getCurrentItem().color;!0===m?Q=a.mediaAsin:(Q=a.colorToAsin[e]&&a.colorToAsin[e].asin,Q=f.isDefined(Q)?Q:a.mediaAsin);a.useChromelessVideoPlayer||J.addClass("chromeful-container");null!==u?q(u,"unrolled-video-add"):q(c.getCurrentItem(),"");f.useTabbedImmersiveView(a)&&l.declarative("videoIngressClick",["click"],d);if(-1!==n&&null!==u){e=c.getCurrentItem().color;var n=f.getVideoHash(e,u.index,a);m={requester:"MediaBlockSoftlines",marketplaceID:n.marketPlaceID,clientPrefix:"mbSoftlines"+
u.thumbnailIndex,locale:n.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:n.url,imageURL:n.slateUrl},product:{contentID:V(a,e),contentIDType:"ASIN"}};H.get(l,"#unrolledImgNo"+u.thumbnailIndex,m,function(){l.$("#unrolledImgNo"+u.thumbnailIndex).find(".vse-player-container").show()},function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function h(a,c){function e(){var a=Math.floor((z.width()-1)/
k);return f?a-1:a}function d(a){a=e();c.slice(a).hide();c.slice(0,a).show();c.find(".textMoreImages").remove();c.removeClass("overlayRestOfImages");c.find("img").each(function(){b(this).parent().attr("aria-hidden","true")});if(a<c.length){var d=a-1;a=c.eq(d);c.eq(d).find("img").parent().attr("aria-hidden","false");d=c.length-d;d=b("\x3cspan\x3e").addClass("textMoreImages").text(d+"+");a.find("img").after(d);a.addClass("overlayRestOfImages")}}var f=0!=z.find(".item.videoThumbnail").length,g=c.eq(0).width(),
h=c.eq(1).position().left-c.eq(0).position().left-g,k=g+h;d();a.register("resize",d)}function A(a){var b=z.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==T&&c.decode().then(function(){h(a,b)})}}function x(a){try{if(!a)return!1;na=a;ea=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==la&&la.disconnect();0<ea.length&&(la=new IntersectionObserver(g,a));ea.forEach(function(a){la.observe(a)})}catch(ua){m.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}
function g(a){na(a,ra,qa,ea,pa)}function v(a,e,d,f,g){try{b.each(a,function(a,h){var k=b(f).index(h.target);h.isIntersecting?fa[k]||(fa[k]=setTimeout(function(){e=e.slice();e.push(k);d=e.sort(function(a,b){return a-b});var a=u(d,g);if(0!==a.length&&0!==d.length){var b=c.getCurrentItem().color;b=N(b);O(b,a);delete fa[k]}},1E3)):(clearTimeout(fa[k]),delete fa[k],e=e.filter(function(a){return a!==k}),d=e.sort(function(a,b){return a-b}))})}catch(wa){m.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function u(a,b){return b=a=a.slice().filter(function(a){return 0>b.indexOf(a)})}function O(a,c){try{if(!a||!c||0===a.length||0===c.length)return!1;b.each(c,function(b,c){if(c=1===ea.length?a[0]:a[c])b=m.buildNexusMetric("ib.thumbnailImpression",b+1,c.mediaObjectId,c.rankingStrategy,c.groupType,t.location.href,Q,W,ba),m.emitNexusMetric(b)})}catch(va){m.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}function V(a,b){if(a){if(a.colorToAsin&&a.colorToAsin[b]&&a.colorToAsin[b].asin)return a.colorToAsin[b].asin;
if(a.mediaAsin)return a.mediaAsin}return""}var p,a,c,e,z,J,G,ca,U,n,da,R,Z,C,Q,aa,W,ba,ha,ia,Y,ja=!1,ma=!1,ka="videoThumbnail",X=null,la=null,qa,pa=[],ea,ra=[],na=null,oa=l.state("imageBlockStateData"),sa=oa?!oa.shouldRemoveCaption:!0,fa={};return function(d,g,h,k){p=this;a=d;c=g;e=k;da=a.airyConfig;W=a.contentWeblab&&a.contentWeblab+":"+a.contentWeblabTreatment;a.colorToVideo={};a.colorToVideo[a.landingAsinColor]=a.colorToVideo[a.defaultColor]=a.videos;a.tabletWeb?(ha="tablet",ba="applicationType.ImageBlock.vse_ib_tablet_web"):
l.capabilities.tablet?(ha="tablet",l.capabilities.isAmazonApp&&(ba="applicationType.ImageBlock.vse_ib_tablet_app")):(ha="desktop",ba="desktop_web.ImageBlock.vse_ib_iv");p.render=function(d,g,h,k,u,m){null!==X&&(clearInterval(X),X=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var n=[];if(2===a.unrolledImageBlockTreatment||3===a.unrolledImageBlockTreatment){z=b("ul.regularAltImageViewLayout");Z=y(g,d,m);n=[];g=b(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||
this.classList.contains("thumbTypechromeless-video")});for(var p=0;p<g.length;p++){var q=g[p].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",r=Number(g[p].classList[2].slice(10)),t=b(".thumbItemUnrolled").index(g[p]);n.push({color:d,thumbnailIndex:t,type:q,varient:"MAIN",index:r})}for(p=0;p<n.length;p++)P(d,h,k,u,m,n[p])}else z=k,Z=y(g,d,m),P(d,h,k,u,m,null),d=c.getCurrentItem().color,h=f.getVideoHash(d,0,a),-1!==h&&(d=a.tabletWeb?f.getNilgiriServiceAjaxRequest(a,
d,h):{requester:"MediaBlockSoftlines",marketplaceID:h.marketPlaceID,clientPrefix:"mbSoftlines",locale:h.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:h.url,imageURL:h.slateUrl},product:{contentID:V(a,d),contentIDType:"ASIN"}},H.get(l,"#main-video-container",d,function(){l.$("#main-video-container").find(".vse-player-container").hide()},function(){l.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));a.collapsibleThumbnails&&
A(e);return Z};p.setupIntersectionObserverToWatchVideoThumbnail=x;p.emitMultipleImpressionMetric=O;f.isImageBlockGridViewHoverDelayEnabled()?p.update=function(b){null!==X&&(clearInterval(X),X=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var d=b.data;"ingress"===d.type||"swatchHover"===b.type||f.lazyLoadingRequired(d,c,a)||(c.setToPreviousItem(),"mouseenter"===b.type?(Y&&clearTimeout(Y),Y=setTimeout(function(){c.setToCurrentItem(d);E(null)},f.getHoveringDelayTimer())):"mouseleave"===
b.type?Y&&clearTimeout(Y):"click"===b.type&&(c.setToCurrentItem(d),E(null)));if("swatchHover"===b.type)"ingress"===d.type||f.lazyLoadingRequired(d,c,a)||E(null),d.color===c.getCurrentItem().color?q(c.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(d,c,a)&&!f.lazyLoadOnHoverEnabled(a)&&q(c.getCurrentItem(),"");else if("chromeful-video"===d.type){var g=f.getVideoHash(d.color,d.index,a);"mouseenter"===b.type?(m.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+Z),g=m.buildNexusMetric("ib.thumbnailHover",
d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,aa,Q,W,ba),m.emitNexusMetric(g),ia&&clearTimeout(ia),ia=setTimeout(function(){q(d,"");!a.usePeekHover&&l.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&f.selectGivenThumbnail(b.$declarativeParent,z)},f.getHoveringDelayTimer())):"mouseleave"===b.type?ia&&clearTimeout(ia):"click"===b.type&&(q(d,""),l.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(b.$declarativeParent,z),g=m.buildNexusMetric("ib.thumbnailClick",
d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,aa,Q,W,ba),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===d.type||"tablet"==ha)&&m.emitNexusMetric(g),f.useTabbedImmersiveView(a)&&(m.emitNexusMetric(g),m.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+Z),R.action="videoIngressClick",R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,e.dispatch("videoIngressClick",R),m.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}}:
p.update=function(b){null!==X&&(clearInterval(X),X=null,J&&J.parent&&J.parent().css("z-index",-1),G&&G.hide&&G.hide());var d=b.data;"ingress"===d.type||f.lazyLoadingRequired(d,c,a)||E(null);if("swatchHover"===b.type)d.color===c.getCurrentItem().color?q(c.getCurrentItem(),""):b.captured||f.lazyLoadingRequired(d,c,a)&&!f.lazyLoadOnHoverEnabled(a)&&q(c.getCurrentItem(),"");else if("chromeful-video"===d.type){var g=f.getVideoHash(d.color,d.index,a);if("mouseenter"===b.type){m.postCountMetric("dpcc_videoThumbHovered_"+
(d.thumbnailIndex+1)+"_"+Z);var h=m.buildNexusMetric("ib.thumbnailHover",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,aa,Q,W,ba);m.emitNexusMetric(h)}q(d,"");a.usePeekHover&&"click"!==b.type||!l.$(b.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(b.$declarativeParent,z),"click"===b.type&&(g=m.buildNexusMetric("ib.thumbnailClick",d.thumbnailIndex+1,g.mediaObjectId,g.rankingStrategy,g.groupType,aa,Q,W,ba),(!f.useTabbedImmersiveView(a)&&"chromeless-video"===
d.type||"tablet"==ha)&&m.emitNexusMetric(g),f.useTabbedImmersiveView(a)&&(m.emitNexusMetric(g),m.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+Z),R.action="videoIngressClick",R.clickTimeStamp=b.$event.timeStamp,R.$event=b.$event,R.$currentTarget=b.$currentTarget,e.dispatch("videoIngressClick",R),m.postTimeMetric("dpcc_vse_videoingressclick",b.$event.timeStamp))))}};a.isDPXFeatureEnabled&&(l.on("triggerVideoAjax",S),l.on("notShowVideoCountAjax",w));l.on("vsePlayer-imageblock_tablet",
r);l.on("vsePlayer-mbsoftlines",r)}});"use strict";B.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(l,b){function f(b,f,H,I,S){function m(b){"click"===b.type&&I.postCountMetric("thumbClick");"click"===b.type&&A.overrideAltImageClickAction?x.dispatch("thumbActionClick",b):x.dispatch("updateSelection",b)}function M(b){A.useClickZoom||x.dispatch("imageClick",b)}function E(b){A.useClickZoom||x.dispatch("imageHover",b)}function D(b){x.dispatch("button360Click",b)}function F(d){!H.isDefined(d)||
"swatchClick"!==d.type&&"updatedData"!==d.type?(h.update(d),"swatchHover"!==d.type&&g.getPreviousItem().thumbnailIndex!==d.data.thumbnailIndex&&I.postCountMetric(d.data.type+"ThumbnailSelected"),b.trigger("image-block-thumbnail-selected",d.data)):(h.render(d.data.color,!1,d.onload,d.type),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",d))}function q(b){x.dispatch("resize",b)}function y(b){H.selectThumbnail(b,
v)}function K(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function L(){A.interactiveCallJSPEnabled||("function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===l.useIV?B.when("a-modal").execute(function(){K()}):
K());A.disableHoverOnAltImages||b.declarative("thumb-action",["mouseenter","mouseleave"],m);b.declarative("thumb-action",["click"],m);b.declarative("main-image-click",["click"],M);b.declarative("main-image-click",["mouseenter","mouseleave"],E);b.declarative("button-360-click",["click"],D);b.on("resize",q)}function k(b){var d=b.data,f;d&&"ingress"!==d.type&&"click"===b.type&&(f=b);return f}function d(b){var d=g.getCurrentItem(),f={type:"click"};f.$declarativeParent=b;f.data=d;return f}function r(){var b=
v.find(".item.imageThumbnail");if(!(1>=b.length)){var d=g&&g.getCurrentItem()&&g.getCurrentItem().color;d=(d=A.colorImages&&d&&A.colorImages[d])&&d.length;b.removeClass("overlayRestOfImages");b.length<d&&(b.eq(b.length-1).addClass("overlayRestOfImages"),b=document.createElement("div"),b.className="lastAltImageOverlay",(d=(d=(d=document.getElementsByClassName("overlayRestOfImages")[0])&&d.getElementsByTagName("img"))&&0<d.length&&d[0])&&d.parentNode&&(d.parentNode.insertBefore(b,d),I.postCountMetric("desktopCollapsibleThumbnailShow")))}}
function P(b){H.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===b.type&&H.updateThumbnailHoverDelay(b.$target)}var h,A,x,g,v;return function(b,l,m){h=this;A=b;x=l;g=m;v=f("#imageBlock #altImages ul");var p=f("#imageBlock .canvas"),a=f("#main-image-container"),c;h.subViews=[];for(l=0;l<S.length;l++)h.subViews.push(new S[l](b,m,h,x));h.render=function(b,k,l,m){var e=0;v.find(".item").remove();b=b||g.getCurrentItem().color;f.each(h.subViews,function(c,d){e=(2===A.unrolledImageBlockTreatment||
3===A.unrolledImageBlockTreatment?d.render(b,e,p,v,a,k,l,m):d.render(b,e,p,v,a,k,l))||e});A.desktopCollapsibleThumbnails&&r();var q=v.find(".a-button-selected").closest(".a-declarative");c=d(q)};h.init=function(){v=f("#imageBlock #altImages ul");var a=v.find(".a-button-selected").closest(".a-declarative"),b=a.data("action");a=a.data(b)||{};a.color=A.landingAsinColor||A.defaultColor;x.dispatch("updateModel",{data:a});h.render(a.color,!0);A.isDebug&&t.console&&console.log(A);x.register("updateView",
F);x.register("selectThumbnail",y);L()};h.update=function(a){P(a);f.each(h.subViews,function(b,c){c.update(a)});A.usePeekHover&&("mouseleave"===a.type?x.dispatch("updateSelection",c):"click"===a.type&&(c=k(a)||c))}}}b=["A","jQuery","imageBlockUtils","postMetric"].concat(l.views);B.when.apply(B,b).register("ImageBlockView",function(){for(var b=arguments[0],l=arguments[1],t=arguments[2],B=arguments[3],S=[],w=4,N=arguments.length;w<N;w++)S.push(arguments[w]);return f(b,l,t,B,S)})})});
/* ******** */
(function(C){var E=window.AmazonUIPageJS||window.P,na=E._namespace||E.attributeErrors,k=na?na("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):E;k.guardFatal?k.guardFatal(C)(k,window):k.execute(function(){C(k,window)})})(function(C,E,na){C.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(k,a,c,r,n){function J(d,b){var f=a(d+" image").attr("data");a(d+" image")[0].setAttribute("href",
f);d=new Image;d.src=f;d.onload=function(){b(this.width/this.height)}}function v(d){null!==a(d.euclidSvg)&&(new Promise(function(b,a){J(d.euclidSvg,b)})).then(function(b){if(null===a(d.featureDiv)||0===a(d.featureDiv).length||0>=b)var f=null;else{var c=a(d.featureDiv).width(),u=a(d.featureDiv).height(),h=2*(16+A(d.euclidHeightText,d.numberSpace)+10),m=c-h,p=a(d.euclidHeightLine).data("euclid-height-startx");0>p?h+=m*Math.abs(p)*2:1<p&&(h+=m*(p-1)*2);m=c-h;0>m&&(h=152);var U=a(d.euclidWidthLine).data("euclid-width-starty"),
k=1<U?u*(U-1)+50:50,q=u-k;if(m/q>b)var l=q*b,w=q,ia=q*b+h,ha=u;else l=m,w=m/b,ia=c,ha=m/b+k;f={imageWidth:l,imageHeight:w,svgWidth:ia,svgHeight:ha}}if("undefined"===typeof f||null===f||10>=f.imageWidth||10>=f.imageHeight||10>=f.svgWidth||10>=f.svgHeight)n.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var x=f,L=d.euclidSvg;a(L+" image").attr("width",x.imageWidth);a(L+" image").attr("height",x.imageHeight);a(L).attr("width",x.svgWidth);a(L).attr("height",x.svgHeight);var F=(x.svgWidth-
x.imageWidth)/2;a(L+" image")[0].setAttribute("x",F);a(L+" image")[0].setAttribute("y",10);var z=x.imageWidth,I=x.imageHeight,g=(x.svgWidth-x.imageWidth)/2,r=a(d.euclidLengthLine).data("euclid-length-startx")*z,v=a(d.euclidLengthLine).data("euclid-length-starty")*I,y=a(d.euclidLengthLine).data("euclid-length-endx")*z,T=a(d.euclidLengthLine).data("euclid-length-endy")*I,aa=a(d.euclidWidthLine).data("euclid-width-startx")*z,t=a(d.euclidWidthLine).data("euclid-width-starty")*I,B=a(d.euclidWidthLine).data("euclid-width-endx")*
z,X=a(d.euclidWidthLine).data("euclid-width-endy")*I,H=a(d.euclidHeightLine).data("euclid-height-startx")*z,J=a(d.euclidHeightLine).data("euclid-height-starty")*I,Y=a(d.euclidHeightLine).data("euclid-height-endx")*z,M=a(d.euclidHeightLine).data("euclid-height-endy")*I,va=(X-t)/(B-aa),hb=0>=va?"leftInclined":"rightInclined",Ra=1/va,oa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(Ra,2)))),pa=0===oa?16:Math.abs(Ra*oa),qa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(Ra,2)))),sa=0===qa?3:Math.abs(Ra*
qa),C=(T-v)/(y-r),E=1/C,D=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(E,2)))),G=0===D?16:Math.abs(E*D),P=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(E,2)))),O=0===P?3:Math.abs(E*P),V=0>=C?"leftInclined":"rightInclined";if(.5<a(d.euclidHeightLine).data("euclid-height-startx")){var da=H+g+16,Q=J+10,R=Y+g+16,W=M+10,ea=H+g+16-3,fa=J+10,ja=H+g+16+3,na=J+10,ib=Y+g+16-3,jb=M+10,kb=Y+g+16+3,lb=M+10,mb=(da+R)/2+5,nb=(Q+W)/2+8,Aa=B+g+oa,Ba=X+pa+10,Ca=aa+g+oa,Da=t+pa+10,ob=B+g+oa-qa,pb=X+pa-sa+10,qb=B+g+
oa+qa,rb=X+pa+sa+10,sb=aa+g+oa-qa,tb=t+pa-sa+10,ub=aa+g+oa+qa,vb=t+pa+sa+10;if("leftInclined"===hb){var Sa=(Aa+Ca)/2;var Ta=(Ba+Da)/2+15}else Sa=(Aa+Ca)/2+5,Ta=(Ba+Da)/2;var Ea=r+g-D,Fa=v+G+10,Ga=y+g-D,Ha=T+G+10,wb=r+g-D-P,xb=v+G+O+10,yb=r+g-D+P,zb=v+G-O+10,Ab=y+g-D-P,Bb=T+G+O+10,Cb=y+g-D+P,Db=T+G-O+10,Gb=A(d.euclidLengthText,d.numberSpace);if("leftInclined"===V)var Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15;else Ua=(Ea+Ga)/2-Gb,Va=(Fa+Ha)/2+15}else{da=H+g-16;Q=J+10;R=Y+g-16;W=M+10;ea=H+g-16-3;fa=J+10;ja=H+g-16+
3;na=J+10;ib=Y+g-16-3;jb=M+10;kb=Y+g-16+3;lb=M+10;var Hb=A(d.euclidHeightText,d.numberSpace);mb=(da+R)/2-Hb-3;nb=(Q+W)/2+8;Aa=B+g-oa;Ba=X+pa+10;Ca=aa+g-oa;Da=t+pa+10;ob=B+g-oa-qa;pb=X+pa+sa+10;qb=B+g-oa+qa;rb=X+pa-sa+10;sb=aa+g-oa-qa;tb=t+pa+sa+10;ub=aa+g-oa+qa;vb=t+pa-sa+10;var Eb=A(d.euclidWidthText,d.numberSpace);"leftInclined"===hb?(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2):(Sa=(Aa+Ca)/2-Eb,Ta=(Ba+Da)/2+15);Ea=r+g+D;Fa=v+G+10;Ga=y+g+D;Ha=T+G+10;wb=r+g+D+P;xb=v+G+O+10;yb=r+g+D-P;zb=v+G-O+10;Ab=y+g+D+P;Bb=
T+G+O+10;Cb=y+g+D-P;Db=T+G-O+10;"leftInclined"===V?(Ua=(Ea+Ga)/2,Va=(Fa+Ha)/2+15):(Ua=(Ea+Ga)/2+15,Va=(Fa+Ha)/2)}var Ib=Ea;var Jb=Fa;var Kb=Ga;var Lb=Ha;var Mb=wb;var Nb=xb;var Ob=yb;var Pb=zb;var Qb=Ab;var Rb=Bb;var Sb=Cb;var Tb=Db;var Ub=Ua;var Vb=Va;var Wb=Aa;var Xb=Ba;var Yb=Ca;var Zb=Da;var $b=ob;var ac=pb;var bc=qb;var cc=rb;var dc=sb;var ec=tb;var fc=ub;var gc=vb;var hc=Sa;var ic=Ta;var jc=da;var kc=Q;var lc=R;var mc=W;var nc=ea;var oc=fa;var pc=ja;var qc=na;var rc=ib;var sc=jb;var tc=kb;var uc=
lb;var vc=mb;var wc=nb;ba(L+" .hit-pd-euclid-height-line",jc,kc,lc,mc);ba(L+" .hit-pd-euclid-height-start",nc,oc,pc,qc);ba(L+" .hit-pd-euclid-height-end",rc,sc,tc,uc);ka(L+" .hit-pd-euclid-height-text",vc,wc);ba(L+" .hit-pd-euclid-width-line",Wb,Xb,Yb,Zb);ba(L+" .hit-pd-euclid-width-start",$b,ac,bc,cc);ba(L+" .hit-pd-euclid-width-end",dc,ec,fc,gc);ka(L+" .hit-pd-euclid-width-text",hc,ic);ba(L+" .hit-pd-euclid-length-line",Ib,Jb,Kb,Lb);ba(L+" .hit-pd-euclid-length-start",Mb,Nb,Ob,Pb);ba(L+" .hit-pd-euclid-length-end",
Qb,Rb,Sb,Tb);ka(L+" .hit-pd-euclid-length-text",Ub,Vb);S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(d===ca&&"dimension-ingress-image"===N.getCurrentItem().type?(K(),a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action","dimension-hero-click"),n.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-
la)):d===Z&&(a("ivDimensionTab").css("display","block"),e(a("#iv-euclid"),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),n.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-ma)))}});S("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&D(d===ca,N.getCurrentItem(),null)}function A(d,b){return a(d).text().replace(/[^0-9]/g,"").length*b+5}function ba(d,b,f,c,u){d=a(d)[0];d!==na&&null!==d&&(d.setAttribute("x1",b),d.setAttribute("y1",
f),d.setAttribute("x2",c),d.setAttribute("y2",u))}function ka(d,b,f){var c=a(d)[0];c!==na&&null!==c&&(c.setAttribute("x",b),c.setAttribute("y",f),d=a(d+" tspan"),d!==na&&null!==d&&2===d.length&&(d[0].setAttribute("x",b),d[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),d[1].setAttribute("x",b),d[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function O(d){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length||a("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!a("#imageBlock #main-image-container #dimension-ingress-outer-container").length){d=
m(d.color);if(null===d)return;if(d in V)S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&V[d].clone().appendTo(a("#imageBlock #main-image-container"));else{var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),V[d]=b):da(d)}}v(ca)}}
function da(d){try{setTimeout(function(){ea++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in V||(V[d]=b),a("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=a("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&b.clone().appendTo(a("#imageBlock #main-image-container")),v(ca)):100>
ea&&da(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+b)}}function S(d){return"true"===a(d).attr("data-should-use-in-hero")}function D(d,b,f){var c=l.colorImages[b.color],u=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");u&&0<u.length?(c=C(c),E(c,d,b,f)):Q(c,d,b,f)}function Q(d,b,f,c){try{setTimeout(function(){R++;var u=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");
u&&0<u.length?(u=C(d),E(u,b,f,c)):100>R?Q(d,b,f,c):(n.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),u=d[0],E(u,b,f,c))},100)}catch(u){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+u)}}function C(d){for(var b=a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),f=d[0],c=0;c<d.length;c++){var u=d[c];u.variant===b&&(f=u)}f===d[0]&&n.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");
return f}function E(d,b,f,h){b?((b=T.find(".item.dimensionItemNo"+f.thumbnailIndex))&&b.remove(),b=f.thumbnailIndex,h=B(d,h),f=T.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item dimensionItemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1}),f.find(".placeHolder").replaceWith(h),f.find(".a-declarative").attr("data-action",
"dimension-hero-click"),T.find(".list").append(f),k.loadImageManually(h),h=b=f,f=ha.css("height"),null!==f&&h.find(".imgTagWrapper").css("height",f),h.addClass("selected"),l.imgTagWrapperClasses&&h.find(".imgTagWrapper").addClass(l.imgTagWrapperClasses),U.dispatch("loadMagnifier"),h=b,l.useIV&&c.isDefined(d.hiRes)&&h.css("cursor","pointer"),k.trigger("dp:image-block:update",d)):(G(d),e(a("#iv-seller"),a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function G(d){var b=a("#ivDimensionTab #ivLargeDimensions");
if(0<b.find(".imgTagWrapper").length){var f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return W(b,f)}f=a("\x3cdiv\x3e\x3c/div\x3e");f.addClass("imgTagWrapper");var c=a("\x3cimg\x3e");f.html(c);b.append(f);f=a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");f.attr("src",d.hiRes);return W(b,f)}function W(a,b){a=a.closest("#ivStageDimensions");var d=a.width();a={height:"auto","max-height":a.height(),"max-width":d,"text-align":"center"};b.css(a);b=b.closest(".imgTagWrapper");
b.css(a);return b}function B(d,b){var f="a-dynamic-image";if(!l.acEnabled){var h;a.each(d.main,function(b,a){c.isDefined(h)||(h=parseFloat(a[1]/a[0])<=parseFloat(l.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=h}var u=c.getMaxDimensionsOfMainImage(d.main,ha,l),m=u[0],e=u[1];u=a("\x3cdiv\x3e\x3c/div\x3e");m={"max-height":m,"max-width":e};u.addClass(f).css(m).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return u}function w(){a("#image-canvas-caption #canvasCaption").html(l.dimensionIngressAtfData.initial.heroImageCaption)}
function m(a){var b=l.colorToAsin[a];return b&&b.asin?a=l.colorToAsin[a].asin:a=l.mediaAsin?l.mediaAsin:null}function F(){a("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",-1)}function K(){null!==a(ca.euclidSvg)&&0!==a(ca.euclidSvg).length?(a("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),a("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
2)):D(ca,N.getCurrentItem(),null)}function z(a,b){l.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function H(a){a.action="dimensionIngressClick";a.data=aa;U.dispatch("dimensionIngressClick",a)}function y(){ma=Date.now();if(X&&!a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var d=m(N.getCurrentItem().color);if(null!==d){a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");var b=a("#ivDimensionTab #ivLargeDimensions").length;
console.log("checkImmersiveViewContainer",b);d in V?V[d].clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")):(b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),b.length?(b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),V[d]=b):I(d));r.populateTitle(a("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,l);r.populateVariationSelection(a("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));P();X=!1}d=a("#iv-tab-view-container").find("#ivThumbsDimensions");
d.find(".ivRow").not(".placeholder").remove();b=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d);var f=0<a("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,c=0<a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(f){if(!a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var h=
l.colorImages[N.getCurrentItem().color];h=C(h);G(h);a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}p(d,b,h.thumb,a("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),"iv-seller")}c&&(h=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),p(d,b,h,a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}t()}function t(){L=a("#ivDimensionTab").height();if(0!==
L){r.detachImmersiveViewResizeHandler(y);var d=a("#ivDimensionTab #ivMainDimensions"),b=a("#ivDimensionTab").height(),f=a("#ivDimensionTab").width();d.css("height",b);d.css("width",f);f=d.find("#ivTitleDimensions").outerHeight(!0);var c=d.find("#ivVariationSelectionDimensions").outerHeight(!0),h=d.find("#ivThumbsDimensions"),m=r.getDimension(h,"margin-top")+r.getDimension(h,"margin-bottom");h.css("height",b-f-c-m);f=d.find("#ivStageDimensions");d=(d[0]&&d[0].getBoundingClientRect&&Math.floor(d[0].getBoundingClientRect().width)||
d.width())-r.getDimension(d,"padding-left")-r.getDimension(d,"padding-right")-d.find("#ivThumbColumnDimensions").width()-r.getDimension(f,"margin-left")-r.getDimension(f,"margin-right");f.css("width",d);f.css("height",b);v(Z)}}function p(a,b,f,c,h){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:h}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(f)+'") center no-repeat');c.hasClass("aok-hidden")||a.addClass("selected");x(a,c)}function x(a,
b){a.click(function(){e(a,b)})}function e(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&W(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function I(d){try{setTimeout(function(){h++;var b=a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");b.length?(d in V||(V[d]=b),a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&
0>=a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&b.clone().appendTo(a("#ivDimensionTab #ivLargeDimensions")),t()):100>h&&I(d)},100)}catch(b){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+b)}}function Y(d,b){q&&clearTimeout(q);"mouseenter"===b.type&&(q=setTimeout(function(){O(d);a("#image-canvas-caption #canvasCaption").empty();w();z(ia,b)},c.getHoveringDelayTimer()));"mouseleave"===b.type&&w()}var g,l,N,U,ia,T,ha,aa,X=!0,la,ma,q,M,V=
{},ea=0,h=0,R=0,L,ca={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",
euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},Z={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",
euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},P=k.once(function(){r.attachImmersiveViewResizeHandler(y)});k.on.resize(function(){S("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&v(ca)});return function(d,b,f,e){g=this;l=d;N=b;U=e;d=l.mediaAsin;b=[];l&&l.dimensionIngressAtfData&&l.dimensionIngressAtfData.initial&&(b=l.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(d,l.dimensionIngressEnabled,
b);g.render=function(b,d,f,e,p,U){ia=e;T=2!==l.unrolledImageBlockTreatment&&3!==l.unrolledImageBlockTreatment?f:a(".unrolledScrollBox");ha=p;X=!0;a("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();a("#ivDimensionTab #ivLargeDimensions").empty();h=ea=0;f=m(N.getCurrentItem().color);if(null!==f){if(c.isDimensionIngressEnabled(f)&&l.dimensionIngressThumbURL&&l.dimensionIngressThumbURL.initial&&
l.dimensionIngressThumbURL.initial.length){f=c.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){p=l.colorImages[b];U=e.find(".item.imageThumbnail");for(var u=0;u<U.length&&u<l.maxAlts-1;u++){var g=p[u].variant;"MAIN"!=g&&f.includes(g)&&(g=U.eq(u))&&(g.remove(),d--)}}d===l.maxAlts&&(e.find(".item.imageThumbnail").last().remove(),d--);aa={type:"dimension-ingress-image",index:0,
thumbnailIndex:d,variant:"Main"};c.createThumbnail(aa,l.dimensionIngressThumbURL.initial,e,"dimension-ingress-imageblock-thumbnail");e=l.dimensionIngressAtfData.initial.thumbnailCaption;e=a("\x3cspan /\x3e").html(e);e.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");e.attr("id","dimensionCaption");a(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");a(".dimension-ingress-imageblock-thumbnail").append(e);d++;a("#ivDimensionTabHeading").removeClass("aok-hidden");
m(b)!==l.mediaAsin&&0===a("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&a("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return d}a("#ivDimensionTabHeading").addClass("aok-hidden")}};g.update=function(b){var d=b.data;N.setCurrentEvent(b);"dimension-ingress-image"===d.type?(d.interaction=b.type,d.isUserGenerated=!0,"mouseenter"===b.type&&(la=Date.now(),n.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?
Y(d,b):(O(d),a("#image-canvas-caption #canvasCaption").empty(),w(),z(ia,b)),"click"===b.type&&c.useTabbedImmersiveView(l)&&(H(b),n.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===b.type?d.color===N.getCurrentItem().color&&"dimension-ingress-image"===N.getCurrentItem().type?K():F():c.isImageBlockGridViewHoverDelayEnabled()?(N.setToPreviousItem(),"mouseenter"===b.type&&(M&&clearTimeout(M),M=setTimeout(function(){N.setToCurrentItem(d);F()},c.getHoveringDelayTimer())),"mouseleave"===
b.type&&M&&clearTimeout(M),"click"===b.type&&(N.setToCurrentItem(d),F())):F()};r.attachTabSelectHandler("ivDimensionTab",y);k.declarative("dimension-hero-click",["click"],H)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(k,a,c,r,n){function J(){n.populateTitle(m.find("#ivTitle"),160,B)}function v(){var a=w.getCurrentItem().color;K=B.colorImages[a];F=B.heroImage[a];z=H=0;c.isDefined(F)&&(z=F.length);
c.isDefined(K)&&(H=K.length)}function A(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ba(){var a=m.find("#ivStage").find("#ivLargeImage"),c=a.width(),p=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var k=g.width(),l=g.height();0<g.length&&(g[0].naturalWidth&&(k=g[0].naturalWidth),g[0].naturalHeight&&(l=g[0].naturalHeight));a.css("cursor","auto");k=0===k?1:k;l=0===l?1:l;var n=Math.min(c/k,p/l),w=l*n,q=k*n;1>n?(t?a.css("cursor","url('"+B.staticImages.zoomIn+"'), auto"):(a.css("cursor",
"-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),e=!0):e=!1;k=Math.min(q,k);l=Math.min(w-20,l);g.css({"margin-top":(p-l)/2,"margin-left":(c-k)/2,height:l,width:k});a.css("visibility","visible");x=!1}function E(a){var c=m.find("#ivLargeImage");c.css("visibility","hidden");c.empty();n.animateStageIn(c);c.append(a);ba()}function O(e){m.find("#ivLargeImage").css("display","none");m.find("#ivLargeImage").css("display","block");var g;"hero-image"===e?c.isDefined(F)&&(g=A(F[y.index])):
c.isDefined(K)&&(g=A(K[y.index]));if(c.isDefined(g)){m.find(".fullscreen").remove();var p=a("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),l=m.find("#ivLargeImage");n.animateStageOut(l,function(){p.load(function(){E(p);k.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index)});if(p[0].complete)E(p),k.trigger("dp:image-block:imageBlockImmersiveImageLoad",y.index);else{l.empty();var c=(l.height()-104)/2,e=(l.width()-80)/2;a("\x3cimg\x3e").attr("src",B.staticImages.spinner).css({position:"relative",
top:c+"px",left:e+"px"}).appendTo(l)}})}}function C(a){m.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?y.type="hero-image":y.type="image";y.index=a.attr("id").split("_")[1];O(y.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(y.index,10)+1)+"_"+(z+H))}function S(){m.delegate(".ivThumb","click",function(){var c=a(this);C(c)})}function D(a,c){return 0<c?c/2:Math.min(0,Math.max(c,a))}function Q(a){var c=Y.top-(a.pageY-l[1])*g;a=D(Y.left-(a.pageX-l[0])*
g,I.left);c=D(c,I.top);m.find(".fullscreen").css({left:a,top:c})}function ja(){m.delegate("#ivLargeImage","click",function(a){if(x)ba();else if(e){m.find(".fullscreen").removeAttr("style");if(e){var c=m.find("#ivLargeImage"),p=c.find(".fullscreen");t?c.css("cursor","url('"+B.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor","zoom-out"));x=!0;var k=m.find("#ivLargeImage");I.left=k.width()-p.width();I.top=k.height()-p.height();k=c.height()/
2;var n=c.width()/2;l=[c.offset().left+n,c.offset().top+k];Y.top=k-p.height()/2;Y.left=n-p.width()/2;p.css({position:"relative",left:Y.left,top:Y.top});g=Math.max(p.height()/c.height(),p.width()/c.width())}Q(a);r.postCountMetric("dpcc_iv_largeImageCLick")}});m.delegate("#ivLargeImage","mousemove",function(a){x&&Q(a)})}function fa(){m.find("#ivLargeImage").empty()}function G(e){if(p){m=a("#ivMain");v();y=w.getCurrentItem();J();n.populateVariationSelection(m.find("#ivVariationSelection"));e=m.find("#ivThumbs");
e.find(".ivRow").not(".placeholder").remove();var g=z+H,k=!1;B&&B.dimensionIngressAtfData&&B.dimensionIngressAtfData.initial&&(k=B.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var l=0,x=0;l<g;)for(var I=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),r=0;4>r&&l<g;r++,l++,x++)if(x<z){var t=F[l].thumb,q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+l,"data-csa-c-type":"item",
"data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":l+1}).appendTo(I);q.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(t)+'") center no-repeat')}else if(x>=z&&x<H+z){t=B.colorToAsin[w.getCurrentItem().color].asin;t||(t=B.mediaAsin);if((q=c.isDimensionIngressEnabled(t))&&k){if((t=c.getDimensionVariantList(t))&&t.includes(K[l-z].variant)){r--;continue}}else if(q&&"DIMN"===K[l-z].variant){r--;continue}t=K[l-z].thumb;
q=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(l-z),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":l-z+1}).appendTo(I);q.find(".ivThumbImage").css("background",'url("'+n.getResizedThumbnailURL(t)+'") center no-repeat')}N();p=!1}else J();e=a("#ivImagesTab").height();m.css("height",e);g=m.find("#ivTitle").outerHeight(!0);k=m.find("#ivVariationSelection").outerHeight(!0);
l=m.find("#ivThumbs");x=n.getDimension(l,"margin-top")+n.getDimension(l,"margin-bottom");l.css("height",e-g-k-x);m.find("#ivLargeImage").css("height",e);e=m.find("#ivStage");g=m[0]&&m[0].getBoundingClientRect&&Math.floor(m[0].getBoundingClientRect().width)||m.width();e.css("width",g-n.getDimension(m,"padding-left")-n.getDimension(m,"padding-right")-m.find("#ivThumbColumn").width()-n.getDimension(e,"margin-left")-n.getDimension(e,"margin-right"));y=w.getCurrentItem();e="hero-image"===y.type?m.find("#ivHeroImage_"+
y.index):"image"===y.type?m.find("#ivImage_"+y.index):c.isDefined(F)?m.find("#ivHeroImage_"+y.index):m.find("#ivImage_"+y.index);c.isjQueryObjDefined(e)||(e=m.find("#ivImage_0"));C(e)}var W,B,w,m,F,K,z,H,y,t=navigator.userAgent.match(/msie|trident/i),p=!0,x=!1,e=!1,I={},Y={},g,l;p=!0;var N=k.once(function(){S();ja();n.attachImmersiveViewResizeHandler(G);n.attachTabDeselectHandler("ivImagesTab",fa)});return function(c,e,g,l){W=this;B=c;w=e;W.render=function(c,e,g,l,k,m){p=!0;v();0===z+H?n.hideTabHeading("ivImagesTabHeading"):
n.unhideTabHeading("ivImagesTabHeading");1===z+H?a("#ivThumbs").hide():a("#ivThumbs").show()};W.update=function(a){};n.attachTabSelectHandler("ivImagesTab",G)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(k,a,c,r,n,J,v){function A(){var c=S.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),m=c.find(".a-popover-inner");c=c.height()-
v.getDimension(m,"padding-top")-v.getDimension(m,"padding-bottom");a("#iv-tab-view-container").css("height",c);ja=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<ja?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),m=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=m):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();a("#iv-tab-view-container .iv-tab-content").css("height",c);k.trigger("dp:image-block:immersive-view:resize")}
function ba(){k.trigger("dp:image-block:immersive-view:reset")}function ka(w){if(c.isImmersiveViewEnabled(da,S.getCurrentItem().color))if(G){var m=w.$event.originalEvent;m.acknowledge&&m.acknowledge(w.$currentTarget[0]);n.isEnabled&&J.logImmersiveViewRequestServed(n);r.postCountMetric("dppc_immersiveViewOpened");c.isDefined(w)&&("button-360-click"===w.action?a("#iv360TabHeading").click():"videoIngressClick"===w.action?(fa=w.clickTimeStamp,a("#ivVideosTabHeading").click()):"showroomIngressClick"===
w.action?(fa=w.clickTimeStamp,a("#ivShowroomTabHeading").click()):"dimensionIngressClick"===w.action?(fa=w.clickTimeStamp,a("#ivDimensionTabHeading").click()):a("#ivImagesTabHeading").click());m=S.getImmersiveViewModalInstance();if(c.isDefined(m))m.show();else{w=a("#auiImmersiveViewDiv");m=Math.min(Math.max(a(E).height()-150,540),1080);var v=Math.min(Math.max(a(E).width()-75,990),1980);m=G.create(w,{name:"immersiveView",activate:"onclick",width:v,height:m,popoverLabel:"ImmersiveView",hideHeader:!0});
S.setImmersiveViewModalInstance(m);w.click()}Q&&(Q=!1,W(),k.trigger("dp:image-block:immersive-view:init"))}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var O,da,S,D,Q=!0,ja=0,fa,G;C.when("a-modal").execute(function(a){G=a});var W=k.once(function(){k.on("a:popover:afterUpdatePosition:immersiveView",A);k.on("a:popover:afterShow:immersiveView",
A);k.on("a:popover:afterHide:immersiveView",ba)}),B=k.once(function(){var c=a("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(m){var n=c.filter(".iv-active");n.attr("id")!==a(this).attr("id")&&k.trigger("dp:ivTabs:"+n.find("a").attr("data-iv-tab-view")+":deselect",m);c.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();n=a(this).find("a").attr("data-iv-tab-view");a("#"+n).show();"ivVideosTab"===n&&(m.clickTimeStamp=fa||m.timeStamp);
k.trigger("dp:ivTabs:"+n+":select",m);r.postCountMetric("dppc_"+n);return!1})});return function(a,m,v,A){O=this;da=a;S=m;n.refToModel=S;D=A;O.render=function(a,c,k,m,p,n){r.postCountMetric("dpcc_altThumbs_"+c);Q=!0};O.update=function(a){};O.getTitle=function(){};O.getVariationSelectionInfo=function(){};B();c.isImmersiveViewEnabled(da,S.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");D.register("imageClick",ka);D.register("button360Click",ka);(da.collapsibleThumbnails||da.desktopCollapsibleThumbnails)&&
k.declarative("thumb-action",["click"],function(a){a.$declarativeParent.hasClass("overlayRestOfImages")&&(ka(a),r.postCountMetric("collapsibleThumbnailImmersiveViewClick"))});c.useTabbedImmersiveView(da)&&(D.register("videoIngressClick",ka),D.register("showroomIngressClick",ka),D.register("dimensionIngressClick",ka))}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",
function(k,a,c,r,n,J,v,A){function ba(a){return a.hiRes||a.large||a.main[a.main.length-1]}function ka(){h.find("#ivTitle").click(function(){ea.hide()})}function O(){f=fb?{type:"360-spin"}:M.getCurrentItem()}function da(){var a=h.find("#ivStage"),b=ea.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner");b=b.height()-A.getDimension(c,"padding-top")-A.getDimension(c,"padding-bottom");h.css("height",b);c=h.find("#ivTitle").outerHeight(!0);var d=h.find("#ivVariationSelection").outerHeight(!0),
f=h.find("#ivMediaSelection").outerHeight(!0),e=h.find("#ivThumbs"),g=A.getDimension(e,"margin-top")+A.getDimension(e,"margin-bottom");e.css("height",b-c-d-f-g);h.find("#ivLargeImage").css("height",b);a.css("width",h.width()-A.getDimension(h,"padding-left")-A.getDimension(h,"padding-right")-h.find("#ivThumbColumn").width()-A.getDimension(a,"margin-left")-A.getDimension(a,"margin-right"))}function S(){h.find("#ivMediaSelect").change(function(){var b=a(this).val();"all"===b?(h.find("#ivVideoList").hide(),
h.find("#ivThumbs").show(),h.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&h.find("#ivVideo_"+f.index).click()):"images"===b?(h.find("#ivVideoList").hide(),h.find("#ivThumbs").show(),h.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===P&&0===Z?h.find("#iv360").click():0===P?h.find("#ivHeroImage_0").click():h.find("#ivImage_0").click())):"videos"===b&&(h.find("#ivVideoList").show(),h.find("#ivThumbs").hide(),"chromeful-video"!==f.type?h.find("#ivVideoList_0").click():h.find("#ivVideoList_"+
f.index).click())})}function D(){var a=h.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),d=a.find(".fullscreen");d.removeAttr("style");var f=d.width(),e=d.height();0<d.length&&(d[0].naturalWidth&&(f=d[0].naturalWidth),d[0].naturalHeight&&(e=d[0].naturalHeight));a.css("cursor","auto");f=0===f?1:f;e=0===e?1:e;var g=Math.min(b/f,c/e),l=e*g,p=f*g;1>g?(gb?a.css("cursor","url('"+q.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),Na=!0):Na=!1;f=Math.min(p,f);e=Math.min(l-20,e);d.css({"margin-top":(c-e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");Ma=!1}function Q(a){var b=h.find("#ivLargeImage");b.css("visibility","hidden");b.empty();A.animateStageIn(b);b.append(a);D()}function ja(){db&&db.pause();h.find("#ivLarge360").css("display","none");h.find("#ivLargeVideo").css("display","none");h.find("#ivLargeImage").css("display","none");m()}function fa(b){ja();h.find("#ivLargeImage").css("display",
"block");var d;"hero-image"===b?c.isDefined(R)&&(d=ba(R[f.index])):c.isDefined(L)&&(d=ba(L[f.index]));if(c.isDefined(d)){h.find(".fullscreen").remove();var va=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),e=h.find("#ivLargeImage");A.animateStageOut(e,function(){va.load(function(){Q(va)});if(va[0].complete)Q(va);else{e.empty();var b=(e.height()-104)/2,c=(e.width()-80)/2;a("\x3cimg\x3e").attr("src",q.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(e)}})}}function G(){var a;
c.isDefined(ca)&&(a=ca[f.index]);c.isDefined(a)}function W(){O();var a="hero-image"===f.type?h.find("#ivHeroImage_"+f.index):"image"===f.type?h.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?h.find("#ivVideo_"+f.index):"360-spin"===f.type?h.find("#iv360"):c.isDefined(R)?h.find("#ivHeroImage_"+f.index):h.find("#ivImage_"+f.index);c.isjQueryObjDefined(a)||(a=h.find("#ivImage_0"));B(a)}function B(a){h.find(".ivThumb").removeClass("selected");a.addClass("selected");
a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],G()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],fa(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,w()):(f.type="image",f.index=a.attr("id").split("_")[1],fa(f.type))}function w(){ja();h.find("#ivLarge360").css("display","block");y();var a=h.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});A.animateStageIn(a)},200);K();n.postCountMetric("dppc_click360");
za=Date.now()}function m(){0<za&&(F("dppc_duration360",Date.now()-za),za=0)}function F(a,b){E.ue&&E.ue.count(a,b)}function K(){if(0<ta){var a=h.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function z(b,c){if(ta<b.length){var d=a("\x3cimg /\x3e").css({display:"block",width:6*ra+"px",height:wa+"px"});d.hide();c.append(d);d.get(0).onload=function(){c.closest(document.documentElement).length&&(ta++,1===ta&&(K(),0<za&&F("dppc_loadTime360",Date.now()-za)),0<$a&&F("dppc_perSpriteloadTime360",
Date.now()-$a),h.find("#iv360Spinner").hide(),d.show(),Ja=5*u.imageLocations[Math.floor(Ia/u.imageLocations[0].length)][Ia%u.imageLocations[0].length],z(b,c))};d.attr("src",b[ta].replace(/(\._SP)\d+(,)\d+/,"$1"+ya+"$2"+xa));$a=Date.now()}}function H(a){if(c.isDefined(u.spriteWidthSizes)&&0<u.spriteWidthSizes.length){var b=u.spriteWidthSizes,d=b.length,f=b[0],e=b[d-1];if(a<=f)return f;if(a>e)return e;for(f=0;f<d;f++)if(a>b[f]&&a<=b[f+1])return b[f+1]}else return a}function y(){var b=h.find("#ivLarge360");
b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",q.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),
Ya=!0,t())}function t(){if(c.isDefined(u.spriteURLs)&&c.isDefined(h)&&Ya&&!Za){var b=h.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(u.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",u.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(q.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=u.imageWidth;
var f=u.imageHeight,l=b.parent().width(),k=b.parent().height(),m=0,n=0;d/f>l/k?(ya=H(l),xa=Math.round(f/d*ya),ra=Math.ceil(l),wa=Math.ceil(xa/ya*l),n=(k-wa)/2):(xa=H(k),ya=Math.round(d/f*xa),wa=Math.ceil(k),ra=Math.ceil(ya/xa*k),m=(l-ra)/2);b.css({"margin-left":m,"margin-top":n,width:ra+"px",height:wa+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*ra+"px");z(u.spriteURLs,h.find("#image-360-sprites"),0);d=h.find("#ivLarge360");d.bind("mousedown",I);d.bind("touchstart",
p);d.bind("touchmove",x);d.bind("touchend",e);a(document).bind("mousemove",Y);a(document).bind("mouseup",g);c.isDefined(q.staticImages.grab)&&b.css("cursor","url('"+q.staticImages.grab+"'), auto");Za=!0}}function p(a){La=!0;Xa=a.originalEvent.targetTouches[0].clientX}function x(a){La&&(l(a.originalEvent.targetTouches[0].clientX-Xa),Xa=a.originalEvent.targetTouches[0].clientX)}function e(a){La&&(La=!1)}function I(a){Ka=!0;Wa=a.originalEvent.clientX;c.isDefined(q.staticImages.grabbing)&&(a=h.find("#ivLarge360"),
a.css("cursor","url('"+q.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+q.staticImages.grabbing+"'), auto"));return!1}function Y(a){Ka&&(l(a.originalEvent.clientX-Wa),Wa=a.originalEvent.clientX)}function g(a){Ka&&(Ka=!1,c.isDefined(q.staticImages.grab)&&(a=h.find("#ivLarge360"),a.css("cursor","url('"+q.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function l(a){for(a=Ja-=a/ra*180;0>a;)a+=360;for(;360<a;)a-=360;Ja=
a;a=360;for(var b=0;b<ta;b++)for(var d=0;d<u.imageLocations[b].length;d++){var f=Math.abs(Ja-5*u.imageLocations[b][d]);if(f<a){a=f;var e=b*u.imageLocations[0].length+d}}e!==Ia&&(a=Math.floor(e/u.imageLocations[0].length),a!==Math.floor(Ia/u.imageLocations[0].length)&&(c.isDefined(ab)||(ab=document.createElement("canvas").getContext("2d")),b=h.find("#image-360-sprites").children(),ab.drawImage(b[a],0,0)),a=h.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},
750)));Ia=e;a=e%u.imageLocations[0].length*-1*ra;e=-1*Math.floor(e/u.imageLocations[0].length)*wa;b=h.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+e+"px, 0)");b.css("transform","translate3d("+a+"px, "+e+"px, 0)")}function N(){h.delegate(".ivThumb","click",function(){var b=a(this);B(b)});h.delegate(".ivThumbVideoListOuter","click",function(){h.find(".ivThumbVideoListOuter").removeClass("selected");var b=a(this);b.addClass("selected");f.type="chromeful-video";
f.index=b.attr("id").split("_")[1];G()})}function U(){h.find("#ivLargeImage").empty();m()}function ia(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function T(b){var d=ua.left-(b.pageX-Qa[0])*Pa;k.capabilities.rtl&&(d=ua.left-(a(E).width()-b.pageX-Qa[0])*Pa);b=ua.top-(b.pageY-Qa[1])*Pa;d=ia(d,Oa.left);b=ia(b,Oa.top);h.find(".fullscreen").css({left:d,top:b})}function ha(){h.delegate("#ivLargeImage","click",function(a){if(Ma)D();else if(Na){h.find(".fullscreen").removeAttr("style");if(Na){var b=h.find("#ivLargeImage"),
d=b.find(".fullscreen");gb?b.css("cursor","url('"+q.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));Ma=!0;var c=h.find("#ivLargeImage");Oa.left=c.width()-d.width();Oa.top=c.height()-d.height();c=b.height()/2;var f=b.width()/2;Qa=[b.offset().left+f,b.offset().top+c];ua.top=c-d.height()/2;ua.left=f-d.width()/2;d.css({position:"relative",left:ua.left,top:ua.top});Pa=Math.max(d.height()/b.height(),d.width()/b.width())}T(a)}});
h.delegate("#ivLargeImage","mousemove",function(a){Ma&&T(a)})}function aa(f){if(c.isImmersiveViewEnabled(q,M.getCurrentItem().color))if(cb){var e=f.$event.originalEvent;e.acknowledge&&e.acknowledge(f.$currentTarget[0]);fb=c.isDefined(f)&&"button-360-click"===f.action;J.isEnabled&&v.logImmersiveViewRequestServed(J);n.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(ea))ea.show();else{f=a("#auiImmersiveViewDiv");e=a(E).height()-150;var g=a(E).width()-75;ea=cb.create(f,{name:"immersiveView",
activate:"onclick",width:g,height:e,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(bb){h=a("#ivMain");f=M.getCurrentItem().color;L=q.colorImages[f];R=q.heroImage[f];ca=q.useChildVideos?q.colorToVideo[f]:q.videos;eb=la()&&q.spin360ColorEnabled[f];u=la()?q.spin360ColorData[f]:na;O();b=Z=d=P=0;c.isDefined(R)&&(Z=R.length);c.isDefined(L)&&(P=L.length);c.isDefined(ca)&&(d=ca.length);eb&&(b=1);A.populateTitle(h.find("#ivTitle"),45,q);A.populateVariationSelection(h.find("#ivVariationSelection"));
f=h.find("#ivMediaSelect");0===P+b||0===d?(f.parent().hide(),h.find("#ivThumbs").addClass("noMediaSelection")):(f.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(q.staticStrings.allMedia+" ("+(Z+P+b+d)+")").appendTo(f),a("\x3coption/\x3e").attr("value","images").text(q.staticStrings.images+" ("+(Z+P+b)+")").appendTo(f),a("\x3coption/\x3e").attr("value","videos").text(q.staticStrings.videos+" ("+d+")").appendTo(f),f.parent().show(),f.val("all"));f=h.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();
e=Z+P+d+b;for(var l=g=0;g<e;)for(var p=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),m=0;3>m&&g<e;m++,g++,l++)if(l<Z){var x=R[g].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+g).appendTo(p);r.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(x)+'") center no-repeat')}else if(l>=Z&&l<P+Z)x=L[g-Z].thumb,r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id",
"ivImage_"+(g-Z)).appendTo(p),r.find(".ivThumbImage").css("background",'url("'+A.getResizedThumbnailURL(x)+'") center no-repeat');else if(l>=Z+P&&l<P+Z+b)r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),r.find(".ivThumbImage").css("background",'url("'+(c.isDefined(q.staticImages.icon360)?A.getResizedThumbnailURL(q.staticImages.icon360,!0):"")+'") center no-repeat');else if(x=ca[g-P-Z-b],r=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id",
"ivVideo_"+(g-P-Z-b)).appendTo(p),r.find(".ivThumbImage").css("background",'url("'+x.thumbUrl+'") center no-repeat'),c.isDefined(x)){var I={position:"triggerTop"},t=h.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");t.find(".ivVideoPopoverTitle").text(x.title);t.find(".ivVideoPopoverDuration").text(x.durationTimestamp);I.inlineContent=t[0];k.declarative.create(r,"a-tooltip",I)}f=h.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();
e=f.find(".placeholder");for(g=0;g<d;g++)l=ca[g],p=e.clone().removeClass("placeholder").appendTo(f),p.attr("id","ivVideoList_"+g),p.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(l.title),p.find(".ivThumbDuration").text(l.durationTimestamp);h.find("#ivLarge360").empty();ta=0;bb=Za=Ya=!1;Fb()}}else E.performance&&performance.now&&E.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+
1);else n.postCountMetric("immersiveViewNotExistsClickCount")}function X(a){var b=q.colorToAsin[a],d={},f=500;if(b&&b.asin){d.params={asin:b.asin};var e="360"+b.asin,g=Date.now();d.success=function(b){F("dppc_asyncRequestTime360",Date.now()-g);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(e,"success"),q.spin360ColorData[a]=b.spin360.spin360Model,a===M.getCurrentItem().color&&(u=q.spin360ColorData[a],t())):d.error()};d.error=function(){n.postCountMetric("dppc_asyncFailed360");F("dppc_asyncRequestTime360",
Date.now()-g);f*=2;16E3>=f?setTimeout(function(){g=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",d)},f):c.ajaxState(e,"fail")};c.ajaxState(e)&&"fail"!==c.ajaxState(e)||(r.load("/gp/product/features/apparel-main-image/360.html",d),c.ajaxState(e,"sent"))}}function la(){return c.isDefined(q.spin360ConfigEnabled)&&q.spin360ConfigEnabled}var ma,q,M,V,ea,h,R,L,ca,Z,P,d,b,f,db,u,eb,ra,wa,xa,ya,Wa,Xa,fb=!1,Ya=!1,Za=!1,Ja=0,Ia=0,za=0,$a=0,Ka=!1,La=!1,ta=0,ab,gb=navigator.userAgent.match(/msie|trident/i),
bb=!0,Ma=!1,Na=!1,Oa={},ua={},Pa,Qa,cb;C.when("a-modal").execute(function(a){cb=a});var Fb=k.once(function(){S();N();ha();k.on("a:popover:afterUpdatePosition:immersiveView",da);k.on("a:popover:afterShow:immersiveView",W);k.on("a:popover:afterHide:immersiveView",U);ka()});return function(b,d,f,e){ma=this;q=b;M=d;J.refToModel=M;V=e;la()&&(q.spin360ColorData[q.landingAsinColor]=q.spin360ColorData[q.defaultColor],q.spin360ColorEnabled[q.landingAsinColor]=q.spin360ColorEnabled[q.defaultColor]);c.isDefined(q.staticImages.icon360)&&
a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",A.addStyleCodeToURL(q.staticImages.icon360,"_FMpng_RI_"));ma.render=function(a,b,d,f,e,g){bb=!0;la()&&q.spin360ColorEnabled[a]&&!c.isDefined(q.spin360ColorData[a])&&(q.spin360ColorData[a]={},X(a));c.isImmersiveViewEnabled(q,M.getCurrentItem().color)&&la()&&q.spin360ColorEnabled[a]&&(b===q.maxAlts&&(a=f.find(".item.imageThumbnail"),d=f.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove(),
b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),k.declarative.create(a,"button-360-click"),f.append(a),b++,n.postCountMetric("dppc_display360"));return b};ma.update=function(a){};c.isImmersiveViewEnabled(q,M.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");V.register("imageClick",aa);V.register("button360Click",aa)}});"use strict";C.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric",
"imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",function(k,a,c,r,n,J,v,A,E){function C(){var b=a("#iv360Tab").height();g.css("height",b);var d=g.find("#ivTitle360").outerHeight(!0),c=g.find("#ivVariationSelection360").outerHeight(!0),e=g.find("#ivThumbs360"),l=v.getDimension(e,"margin-top")+v.getDimension(e,"margin-bottom");e.css("height",b-d-c-l);b=g.find("#ivStage360");d=g[0]&&g[0].getBoundingClientRect&&Math.floor(g[0].getBoundingClientRect().width)||
g.width();b.css("width",d-v.getDimension(g,"padding-left")-v.getDimension(g,"padding-right")-g.find("#ivThumbColumn360").width()-v.getDimension(b,"margin-left")-v.getDimension(b,"margin-right"))}function O(){Q();var a=g.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);ba()}function ba(){if(0<R){var a=g.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function S(b,d){if(R<b.length){var f=a("\x3cimg /\x3e").css({display:"block",
width:6*N+"px",height:U+"px"});f.hide();d.append(f);f.get(0).onload=function(){d.closest(document.documentElement).length&&(R++,1===R&&(ba(),0<M&&(n.time("dppc_loadTime360",Date.now()-M,e.mediaAsin),J.postTimeMetric("dppc_loadTime360",Date.now()-M))),0<V&&(n.time("dppc_perSpriteloadTime360",Date.now()-V,e.mediaAsin),J.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-V)),g.find("#iv360Spinner").hide(),f.show(),ma=5*l.imageLocations[Math.floor(q/l.imageLocations[0].length)][q%l.imageLocations[0].length],
S(b,d))};f.attr("src",b[R].replace(/(\._SP)\d+(,)\d+/,"$1"+T+"$2"+ia));V=Date.now()}}function D(a){if(c.isDefined(l.spriteWidthSizes)&&0<l.spriteWidthSizes.length){var b=l.spriteWidthSizes,d=b.length,e=b[0],g=b[d-1];if(a<=e)return e;if(a>g)return g;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function Q(){var b=g.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",e.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),X=!0,ja())}function ja(){if(c.isDefined(l.spriteURLs)&&c.isDefined(g)&&X&&!la){var b=g.find("#ivLarge360"),d=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(l.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",l.staticImages.hint360).appendTo(d);a("\x3cdiv\x3e").css({"text-align":"center"}).text(e.staticStrings.dragToSpin).appendTo(d);d.appendTo(b);d=l.imageWidth;var h=l.imageHeight,p=b.parent().width(),k=b.parent().height(),n=0,x=0;d/h>p/k?(T=D(p),ia=Math.round(h/d*T),N=Math.ceil(p),U=Math.ceil(ia/T*p),x=(k-U)/2):(ia=D(k),T=
Math.round(d/h*ia),U=Math.ceil(k),N=Math.ceil(T/ia*k),n=(p-N)/2);b.css({"margin-left":n,"margin-top":x,width:N+"px",height:U+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*N+"px");S(l.spriteURLs,g.find("#image-360-sprites"),0);d=g.find("#ivLarge360");d.bind("mousedown",B);d.bind("touchstart",fa);d.bind("touchmove",G);d.bind("touchend",W);a(document).bind("mousemove",w);a(document).bind("mouseup",m);c.isDefined(e.staticImages.grab)&&b.css("cursor","url('"+
e.staticImages.grab+"'), auto");la=!0}}function fa(a){h=!0;aa=a.originalEvent.targetTouches[0].clientX}function G(a){h&&(F(a.originalEvent.targetTouches[0].clientX-aa),aa=a.originalEvent.targetTouches[0].clientX)}function W(a){h&&(h=!1)}function B(a){ea=!0;ha=a.originalEvent.clientX;c.isDefined(e.staticImages.grabbing)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+e.staticImages.grabbing+"'), auto"));return!1}
function w(a){ea&&(F(a.originalEvent.clientX-ha),ha=a.originalEvent.clientX)}function m(a){ea&&(ea=!1,c.isDefined(e.staticImages.grab)&&(a=g.find("#ivLarge360"),a.css("cursor","url('"+e.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function F(a){ma-=a/N*180;ca&&(n.count("dppc_360dragToSpin",e.mediaAsin),J.postCountMetric("dppc_360dragToSpin"));ca=!1;for(a=ma;0>a;)a+=360;for(;360<a;)a-=360;ma=a;a=360;for(var b=0;b<R;b++)for(var d=0;d<l.imageLocations[b].length;d++){var h=
Math.abs(ma-5*l.imageLocations[b][d]);if(h<a){a=h;var p=b*l.imageLocations[0].length+d}}p!==q&&(a=Math.floor(p/l.imageLocations[0].length),a!==Math.floor(q/l.imageLocations[0].length)&&(c.isDefined(L)||(L=document.createElement("canvas").getContext("2d")),b=g.find("#image-360-sprites").children(),L.drawImage(b[a],0,0)),a=g.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));q=p;a=p%l.imageLocations[0].length*-1*N;p=-1*Math.floor(p/l.imageLocations[0].length)*
U;b=g.find("#ivLarge360").children("#image-360-sprites");b.css("-webkit-transform","translate3d("+a+"px, "+p+"px, 0)");b.css("transform","translate3d("+a+"px, "+p+"px, 0)")}function K(){if(P){g=a("#ivMain360");var b=I.getCurrentItem().color;H()&&y(b);l=H()?e.spin360ColorData[b]:na;v.populateTitle(g.find("#ivTitle360"),160,e);v.populateVariationSelection(g.find("#ivVariationSelection360"));g.find("#ivLarge360").empty();R=0;la=X=!1;q=ma=0;d();P=!1}0!==a("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(K),
C(),O(),M=Date.now(),Z=ca=!0,n.count("dppc_click360",e.mediaAsin),J.postCountMetric("dppc_click360"))}function z(a,d,g){a=e.colorToAsin[g];var b={},f=500;if(!a||!a.asin)if(g===e.defaultColor)a={asin:e.winningAsin};else return;b.params={asin:a.asin};var p="360"+a.asin,h=Date.now();b.success=function(a){n.time("dppc_asyncRequestTime360",Date.now()-h,e.mediaAsin);J.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&A.setData(a),c.ajaxState(p,
"success")):b.error()};b.error=function(){n.count("dppc_asyncFailedTransient360",e.mediaAsin);J.postCountMetric("dppc_asyncFailedTransient360");n.time("dppc_asyncRequestTime360",Date.now()-h,e.mediaAsin);J.postTimeMetric("dppc_asyncRequestTime360",Date.now()-h);f*=2;16E3>=f?setTimeout(function(){h=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",b)},f):(n.count("dppc_asyncFailed360",e.mediaAsin),J.postCountMetric("dppc_asyncFailed360"),c.ajaxState(p,"fail"))};c.ajaxState(p)&&"fail"!==
c.ajaxState(p)||(r.load("/gp/product/features/apparel-main-image/360.html",b),c.ajaxState(p,"sent"))}function H(){return e&&c.isDefined(e.spin360ConfigEnabled)&&e.spin360ConfigEnabled}function y(a){return c.isDefinedAndNotEmpty(e.spin360ColorData[a])?!0:c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled}function t(){Z&&(n.time("dppc_duration360",Date.now()-M,e.mediaAsin),J.postTimeMetric("dppc_duration360",Date.now()-M),Z=!1)}function p(a){a=e.colorToAsin[a.color]&&e.colorToAsin[a.color].asin;
a||(a=e.mediaAsin);return a}var x,e,I,Y,g,l,N,U,ia,T,ha,aa,X=!1,la=!1,ma=0,q=0,M=0,V=0,ea=!1,h=!1,R=0,L,ca=!0,Z=!1,P=!0,d=k.once(function(){v.attachImmersiveViewResizeHandler(K);v.attachImmersiveViewResizeHandler(C);v.attachImmersiveViewResetHandler(t);v.attachTabDeselectHandler("iv360Tab",t)});return function(b,d,g,h){x=this;e=b;I=d;Y=h;b=e.landingAsinColor;d=e.defaultColor;c.isDefined(e.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(e.staticImages.icon360,
"_FMpng_RI_"));H()&&(e.spin360ColorData||(e.spin360ColorData={}),b===d&&c.isDefinedAndEmpty(e.spin360ColorData[d])&&delete e.spin360ColorData[d]);k.on(E.TWISTER_DATA_EVENT,function(a){p(I.getCurrentItem())===a&&(l=A.getData(a),ja(),a={type:"updatedData",data:I.getCurrentItem()},Y.dispatch("updateView",a))});x.render=function(b,d,f,g,h,l){P=!0;!H()||c.isDefinedAndEmpty(e.spin360ColorData[b])&&!A.getData(p(I.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(e.spin360ColorData[b]=A.getData(p(I.getCurrentItem())),
c.isDefinedAndNotEmpty(e.spin360ColorData[b])?(a("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(e,I.getCurrentItem().color)&&H()&&y(b)&&(d===e.maxAlts&&(b=g.find(".item.imageThumbnail"),f=g.find(".item.videoThumbnail"),c.isDefined(f)&&1<f.length?f.last().remove():b.last().remove(),d--),b=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),k.declarative.create(b,"button-360-click"),g.append(b),n.count("dppc_display360",
e.mediaAsin),J.postCountMetric("dppc_display360"))):c.isDefined(e.spin360LazyLoadEnabled)&&e.spin360LazyLoadEnabled?(e.spin360ColorData[b]={},v.hideTabHeading("iv360TabHeading"),z(g,d,b)):v.hideTabHeading("iv360TabHeading"))};x.update=function(a){};v.attachTabSelectHandler("iv360Tab",K)}});C.register("nexusLogger360",function(){return{count:function(k,a){E.ue&&E.ue.event({asin:a,metricName:k,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(k,a,c){E.ue&&E.ue.event({asin:c,metricName:k,
metricValue:a},"hit-360","hit360.clientEvent.3")}}});C.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});C.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(k,a){var c={};return{setData:function(r){var n=r.asin;c[n]||(c[n]=r,k.trigger(a.TWISTER_DATA_EVENT,n))},getData:function(a){return c[a]}}});"use strict";C.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(k){function a(){this.render=function(){};this.update=
function(){}}return function(c,r,n,J){var v=!1,A=new a;C.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(a){a!==na&&(v=!0,A=new a(c,r,n,J))});c&&!0===c.showroomEnabled&&!1===v&&k.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return A}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(k,
a,c,r,n,J,v){function A(){z.delegate(".ivThumb","click",function(){var c=a(this);z.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&(H.type="chromeful-video",H.index=c.attr("id").split("_")[1])})}function C(){if(X){var c=a("#ivVideosTab").height();z.css("height",c);var e=z.find(".vse-lb-container");y=c-n.getDimension(e,"padding-top")-n.getDimension(e,"padding-bottom");e.css({"max-height":c,overflow:"hidden"});if(ia){z.css({"max-width":Math.floor(1.77*y)});
return}c=z.find(".vse-player-container");e=z.find(".vse-video-action-strip");var g=z.find(".vse-lb-video-metadata"),h=Math.floor(y-n.getDimension(g,"height")-n.getDimension(e,"height")),d=Math.floor(1.77*h);c.css({"max-height":h,"max-width":d,marginLeft:"auto",marginRight:"auto"});g.css({"max-width":d,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":d,marginLeft:"auto",marginRight:"auto"})}T&&(c=z.find(".vse-vertical-scroll"),e=n.getDimension(c,"margin-top")+n.getDimension(c,"margin-bottom"),
c.css("max-height",y-e))}function ka(){O();t&&t.pause();ha=!1;N=!0;I=null;aa=!0;X=!1}function O(){ha=!1;t&&t.pause()}function da(e){I=e.clickTimeStamp?e.clickTimeStamp:k.now();c.isDefined(K)&&(K.eventTimestamp=I);ha=!0;U&&(v.get(k,"#ivVideoBlock",F,h,R),z=a("#ivVideoBlock"),m.getCurrentItem(),H=m.getCurrentItem(),M(),G());C();U=!1;Q()}function S(c){U&&(z=a("#ivVideoBlock"),m.getCurrentItem(),H=m.getCurrentItem(),M());ha&&Q();C()}function D(a){t=a.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",
k.now()-q);w.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",k.now()-w.imageBlockRenderingStartTime);X&&(G(),Q())}function Q(){if(t&&ha&&(z.find(".vse-lb-container").animate({opacity:1},200),t.play(K),r.postCountMetric("dpcc_vse_videoBlock_video_played"),N)){var a=E.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),a=(new Date).getTime()-a,r.postTimeMetric("dpcc_vse_vitff",a),N=!1)}}function ja(){k.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function fa(a){p=
a.popover.$popover;X=!0;G()}function G(){if(X&&aa&&ha&&t){p.addClass(k.$(p).find(".vse-lb-container").data("cssClass"));var a=K;la&&(a=ma,la=!1);k.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:a});C();aa=!1}}function W(a){document.getElementsByClassName("videoBlockIngress")[0].click();ma=a;la=!0}var B,w,m,F,K,z,H,y,t,p,x,e,I,Y,g,l,N=!0,U=!0,ia=!1,T=!1,ha=!1,aa=!0,X=!1,la=!1,ma,q=0,M=k.once(function(){A();n.attachImmersiveViewResizeHandler(S);n.attachTabDeselectHandler("ivVideosTab",
O);n.attachImmersiveViewResetHandler(ka)}),V=function(c,e,g){a("#ivVideoBlockSpinner").addClass("aok-hidden");r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);ia=!0;a("#ivVideoBlock").css({"max-width":1.77*y,margin:"0 auto"})},ea=function(c,e,g){U||v.get(c,"#ivVideoBlock",F,h,R);a("#ivVideoBlockSpinner").addClass("aok-hidden")},h=function(a,c,e){T=!0;C()},R=function(a,c,e){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+c.pageContext.placement+"_"+c.configuration.type)};
return function(a,h,p,r){B=this;w=a;m=h;B.render=function(a,b,f,h,p,r){a=m.getCurrentItem().color;b=c.getVideoHash(a,0,w);!0===r?x=w.mediaAsin:(x=w.colorToAsin[a]&&w.colorToAsin[a].asin,x=c.isDefined(x)?x:w.mediaAsin);e=!0===w.useVSEVideos?"VIDEO_ID":"physicalID";Y=w.contentWeblab;g=w.contentWeblabTreatment;l=w.parentAsin||"";U=!0;-1===b?n.hideTabHeading("ivVideosTabHeading"):(n.unhideTabHeading("ivVideosTabHeading"),F={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:b.marketPlaceID,
locale:b.languageCode,product:{contentID:x,contentIDType:"ASIN",parentContentID:l,parentContentIDType:"ASIN"},video:{contentID:b.mediaObjectId,contentIDType:e,videoURL:b.url,imageURL:b.slateUrl,rankingStrategy:b.rankingStrategy},requestId:w.dpRequestId,weblabContext:[{name:Y,assignment:g,ignoreForG2S2Key:!0}],metadata:{ProductTitle:w.title}},K={videoUrl:F.video.videoURL,contentId:F.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(I)?I:k.now(),imageUrl:F.video.imageURL,productAsin:F.product.contentID,
rankingStrategy:F.video.rankingStrategy,index:0},c.isDefinedAndNotEmpty(t)&&(t.destroy(),t=null),q=k.now(),J.get(k,"#ivVideoBlock",F,ea,V))};B.update=function(a){};n.attachTabSelectHandler("ivVideosTab",da);k.on("vsePlayer-detailpage-imageblock",D);k.on("a:popover:afterShow:immersiveView",fa);k.on("a:popover:beforeHide:immersiveView",ja);k.on("detailpage-imageblock-leave-pip",W)}});"use strict";C.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockShoppableSceneImmersiveView",
function(k,a,c,r,n){function J(c,k){if(c){K=w.getCurrentItem();0==Object.entries(t).length&&v();var e=K.shoppableScene;e==na?(c=G(Object.values(t)[0]),e=Object.values(t)[0].shoppableScene):c=G(F[K.index]);y=e.physicalId;var p=a(".shoppable-scene-image-block-placeholder-in-iv");if(0<p.length){var n=a("\x3cimg\x3e");n.attr("id","shoppableSceneIvImage");n.attr("src",c);n.css({"max-height":"500px","max-width":"650px"});p.replaceWith(n);c=A(e);e=a(".shoppable-scene-image-block-tags-in-iv");e.empty();c.appendTo(e)}else m.hide(),
D();ka();c=K.shoppableScene?K.shoppableScene:Object.values(t)[0].shoppableScene;O(c);Q(k,z,null,y)}}function v(){F=B.colorImages[K.color];z=B.colorToAsin[K.color].asin;F.forEach(function(a){a.shoppableScene!=na&&(t[a.shoppableScene.physicalId]=a)})}function A(c){var p=a("\x3cspan\x3e");k.each(c.tags,function(e){var m=a("\x3cdiv\x3e").css({position:"absolute",left:100*e.left+"%",top:100*e.top+"%",height:"auto",width:"auto"});m.append(E(!1));m.append(E(!0));k.declarative.create(m,"scenes-show-details-tags-ib-iv-click",
{tagId:e.link,physicalId:c.physicalId});p.append(m)});return p.children()}function E(c){var p=a("\x3cimg src\x3d'"+(c?B.staticImages.shoppableSceneDotHighlighted:B.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");p.css({display:c?"none":"inline-block"});p.addClass("mirai-scene-tag-in-iv").addClass(c?"active-tag":"inactive-tag");return p}function ka(){var c=a(".ivBottomThumbImagesShoppableScene");c.empty();Object.keys(t).forEach(function(p){var e=t[p],m=a("\x3cimg\x3e");e=G(e);m.attr("id","shoppable-scene-thumbnail-"+
p);m.attr("src",e);m.addClass("shoppable-scene-thumbnail");k.declarative.create(m,"scenes-thumbnail-ib-iv-click",{physicalId:p});m.appendTo(c)})}function O(a){fa();C.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-render",function(){k.trigger("mirai:scene-immersive-recommendation-col-init",{scene:a})})}function da(a,c){fa();C.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){k.trigger("mirai:scene-immersive-recommendation-col-update",
{tagId:a,physicalId:c})})}function S(){var c=t[y].shoppableScene,k=a(".shoppable-scene-image-block-tags-in-iv");k.hide();c=A(c);k.empty();c.appendTo(k);k.show();m.show()}function D(){var c=G(t[y]),k=a("#shoppableSceneIvImage");k.bind("load",S);k.attr("src",c)}function Q(a,c,e,m){var p="shoppable-scene-dp-iv:mirai:"+a;C.when("mirai-shoppable-scene-immersive-view").execute("shoppable-scene-image-recommendation-col-updater",function(){k.trigger("mirai:scene-immersive-publish-metric",{nexusTargetName:a,
csmCounterName:p,asin:c,tagId:e,physicalId:m})})}function ja(){var c=a(".shoppable-scene-image-block-tags-in-iv").find(".mirai-scene-tag-in-iv");c.removeClass("mirai-scene-dot-pulsate").addClass("mirai-scene-dot-pulsate");k.delay(function(){c.removeClass("mirai-scene-dot-pulsate")},3600)}function fa(){var c=a("#shoppable-scene-iv-recommendation-waiting-spinner");0<c.length&&c.remove();c=a("#shoppableSceneRecommendationColumn");a(".shoppable-scene-recommendation-iv").hide();var k=a("\x3cimg\x3e");
k.attr("id","shoppable-scene-iv-recommendation-waiting-spinner");k.attr("src",B.staticImages.spinner);k.css({position:"relative"}).appendTo(c)}function G(a){return a.hiRes||a.large||a.main[a.main.length-1]}var W=void 0,B=void 0,w=void 0,m=void 0,F=void 0,K=void 0,z=void 0,H=void 0,y=void 0,t={};k.declarative("shoppable-scene-image-click","click",function(a){J(!0,"IMAGE_BLOCK_SHOPPABLE_SCENE")});k.declarative("scenes-show-details-tags-ib-iv-click","click",function(a){var c=a.$currentTarget;if(null!=
H){var e=H.find(".active-tag"),k=H.find(".inactive-tag");e.css({display:"none"});k.css({display:"inline-block"})}e=c.find(".active-tag");k=c.find(".inactive-tag");e.css({display:"inline-block"});e.addClass("mirai-scene-dot-pulsate");k.css({display:"none"});H=c;ja();da(a.data.tagId,a.data.physicalId);Q("IMMERSIVE_VIEW_PRODUCT_TAG",z,a.data.tagId,a.data.physicalId)});k.declarative("scenes-thumbnail-ib-iv-click","click",function(a){y=a.data.physicalId;D();O(t[y].shoppableScene)});return function(c,k,
e,n){W=this;B=c;w=k;m=a("#ivMainShoppableScene");W.render=function(a,c,e,k,m,n){};W.update=function(a){};(c=document.getElementById("ivShoppableSceneHeading"))&&c.addEventListener("click",function(a){a=w.getCurrentItem();J(null==K||K.index!=a.index,"IMMERSIVE_VIEW_TAB")})}})});
/* ******** */
(function(d){var b=window.AmazonUIPageJS||window.P,h=b._namespace||b.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):b;a.guardFatal?a.guardFatal(d)(a,window):a.execute(function(){d(a,window)})})(function(d,b,h){d.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var e=a.$,g=e("#featurebullets_feature_div"),k=e("#productOverview_feature_div");if(g&&0<g.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var f=e("#featurebullets_feature_div .a-expander-container");f&&0<f.length&&"feature-bullets-expander"===f.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(n){d.log("Feature bullets metric logging failed with error: ( "+
n+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";d.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,e,g,k){var f=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+f[f.length-1];for(b=1;b<f.length;b++)if(c<=f[b]){a="image_size_bucket:"+f[b-1]+"-"+f[b];break}k.postCountMetric(a);g.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,b.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=e.lazyLoadExperienceDisabled;g.isDefined(e.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),g.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";d.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});d.register("postEarlyMetric",function(){return null});"use strict";d.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=b.ue;if(c){var e=c.count(a)||0;c.count(a,e+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var e=b.ue;e&&e.count(a,c)}},emitNexusMetric:function(a){b.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.5",{ssd:!1})},buildNexusMetric:function(a,c,e,g,k,f,d,m,p){d=f="";try{f=b.location.href;var l=f.match(/\/dp\/([A-Z0-9]{10})/);l&&l[1]&&(d=l[1])}catch(q){(l=b.ue)&&l.count("PostMetricsUtil:cannotBuildNexusPayload",1)}return{eventSource:"IBCarousel",
placementContext:p,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:+c,videoAsin:e,videoAsinList:"",rankingStrategy:g===h?"":g,groupType:k===h?"":k,pageUrl:f,pageAsin:d,weblabIds:m===h?"":m}}}});"use strict";d.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,c,e){var d=a.state("desktop-landing-image-data");d&&(d=a.values(d),c=c.getResourceTimeByName("img",d),a.each(c,function(a){a&&(a.responseEnd!=h&&e.postCountMetric("ibDesktopLandingImageDownloadTime",
b.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?e.postCountMetric("ibDesktopLandingImageCached",1):(e.postCountMetric("ibDesktopLandingImageSizeInBytes",b.parseInt(a.transferSize)),e.postCountMetric("ibDesktopLandingImageNotCached",1))))}))});"use strict"});
/* ******** */
(function(l){var h=window.AmazonUIPageJS||window.P,p=h._namespace||h.attributeErrors,d=p?p("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):h;d.guardFatal?d.guardFatal(l)(d,window):d.execute(function(){l(d,window)})})(function(l,h,p){l.when("A","jQuery").execute(function(d,g){d.on("a:image:load:landingImage",function(){h.performance&&performance.now&&h.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});d.loadDynamicImage(g("#landingImage"))});"use strict";
l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(d,g){function k(a,c){if(c.repositionHeroImage){c=a[1];a=a[0];if(768>=(h.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))c*=.7,a*=.7;else{var b=Math.max(Math.min(((h.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,1),0);c*=.7+.3*b;a*=.7+.3*b}b=[c,a]}return b}function e(a,c,b){if(b.repositionHeroImage){var d=h.innerWidth||document.documentElement.clientWidth||
document.body.clientWidth;b=b.heroFocalPoint;if(g.isDefined(b)){var e=Math.max((d-Math.min(1500,a))/2,0);var f=Math.max((d-a)/2,0);d=Math.max(Math.min(d,1500),1024);e=e-f+(d-420-23)/2-a/c[1]*b}}return e}function f(a,c,b){a=a.heroImage;return!(g.isDefined(a)&&g.isDefined(a[c])&&g.isDefined(a[c][b])&&g.isDefined(a[c][b].main))||1>d.map(a[c][b].main,function(a,b){return b}).length?-1:a[c][b]}return{getHeroImageHash:f,getHeroDimParams:function(a,c,b){if(a.repositionHeroImage){if(!g.isDefined(b)){b=f(a,
c.color,c.index);if(-1===b)return;c=d.map(b.main,function(a,b){return b})[0];b=b.main[c]}c=k(b,a);a=e(c[0],b,a);return{height:c[1],width:c[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(d,g,k){function e(a,c){var b=d.copy(a);if(k.isDefined(a)&&a.length>c){try{for(var e=-1,f=0;f<a.length;f++){var g=a.charAt(f);if(" "===g||"."===g||"?"===g||";"===g||","===g||":"===g)e=f;if(f===c-4){b=a.substring(0,-1===e?f:e);break}}}catch(m){b=
a.substring(0,c-3)}b+="..."}return b}function f(a,c){var b=a.lastIndexOf(".");return a="_"===a.charAt(b-1)?a.substring(0,b-1)+c+a.substring(b):a.substring(0,b)+"."+c+a.substring(b)}return{getDimension:function(a,c){a=parseInt(a.css(c),10);return isNaN(a)?0:a},attachTabSelectHandler:function(a,c){d.on("dp:ivTabs:"+a+":select",c)},attachTabDeselectHandler:function(a,c){d.on("dp:ivTabs:"+a+":deselect",c)},attachImmersiveViewResizeHandler:function(a){d.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){d.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){d.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){g("#"+a).hide()},unhideTabHeading:function(a){g("#"+a).show()},addStyleCodeToURL:f,getResizedThumbnailURL:function(a,c){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";c&&(b+="FMpng_RI_");return f(a,b)},populateVariationSelection:function(a){if(k.isDefined(h.DetailPage)&&
k.isDefined(h.DetailPage.StateController)){a.empty();var c=h.DetailPage.StateController.getState(),b=c.variation_label_order,d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d],f=c.selected_variations[e];e=c.variation_display_labels[e];f&&g("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+f).appendTo(a)}}},populateTitle:function(a,c,b){a.html(b.title);a.attr("title",a.text());a.html(e(b.title,c))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,d){h.ueLogError&&h.ueLogError(d,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(d){return{load:function(g,k){k=k||{};k.timeout=k.timeout||4E3;d.ajax(g,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(d,g){l.register("vse_ns_preLoaderHook",function(){function k(e,f){try{var a=e.A,c=e.block,b=e.request,t=e.handleFailure,h=e.handleSuccess,l=a.$;f--;var m=
3-f-1,n=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(e){var f=a.now()-n;d.postTimeMetric("vse_preLoaderHook:success:",f);d.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+m);l(c).html(e);h(a,b,e)},error:function(c){d.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+m);(0===c.http.status||500<=c.http.status&&599>=
c.http.status)&&0<f?k(e,f):(d.postCountMetric("vse_preLoaderHook:error:",1),t(a,b,c))}})}catch(q){g.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(e,f,a){try{var c=e.A,b=e.context,h=e.handleFailure,l=e.handleSuccess;f.attr("data-configuration");var p=atob(f.attr("data-configuration")),m=JSON.parse(p),n={pageContext:b,configuration:m},
q=c.now();a--;var r=3-a-1;c.ajax("/vap/ew/subcomponent/"+m.type,{params:n,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lazyLoaderHook:success:",e);d.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+m.type+":"+r);f.html(a);l(c,n,a)},error:function(g){d.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+m.type+":"+r);(0===g.http.status||
500<=g.http.status&&599>=g.http.status)&&0<a?k(e,f,a):(d.postCountMetric("vse_lazyLoaderHook:error:",1),h(c,n,g))}})}catch(u){g.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(e,d,a,c,b){var f=e.$;f(d+" div[data-configuration]").each(function(){k({A:e,context:a,handleFailure:b,handleSuccess:c},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(e,f,a){try{var c=e.A,b=e.block,h=e.request,l=e.handleFailure,p=e.handleSuccess,m=c.$;a--;var n=3-a-
1,q=c.now();c.ajax("/vap/ew/subcomponent/vseplayer",{params:h,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:h.timeout||5E3,withCredentials:!0,success:function(a){var e=c.now()-q;d.postTimeMetric("vse_lightPlayerLoaderHook:success:",e);d.postCountMetric("vse_lightPlayerLoaderHook:success:"+h.page+":"+h.placement+":"+n);m(b).html(a);p(c,h,a)},error:function(b){d.postCountMetric("vse_lightPlayerLoaderHook:error:"+h.page+":"+h.placement+":"+n);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(e,a):(d.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(c,h,b))}})}catch(r){g.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",r)}}return{get:function(e,d,a,c,b){k({A:e,block:d,request:a,handleFailure:b,handleSuccess:c},3)}}})})});
/* ******** */
